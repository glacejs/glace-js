<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"globals.js.html":{"id":"globals.js.html","title":"Source: globals.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: globals.js &quot;use strict&quot;; /** * Contains global framework functions and helpers. * * @module */ var _ = require(&quot;lodash&quot;); var hacking = require(&quot;./hacking&quot;); var logger = require(&quot;./logger&quot;); var TestCase = require(&quot;./testing&quot;).TestCase; /** * `chaijs` `expect` function. * * @global * @function * @arg {*} actualValue - Some actual value which should be checked. * @see {@link http://chaijs.com/|chaijs} to get more details about * `expect` usage. * @example expect(1).to.be.equal(1); expect(2).to.be.gte(0); */ global.expect = require(&quot;chai&quot;).expect; /** * `GlaceJS` config. * * @global * @see {@link module:config|config} to get more details about its options. */ global.CONF = require(&quot;./config&quot;); /** * Atomic steps collection. * * @global * @see {@link module:steps/index|steps} to get more details about its methods. */ global.SS = new (require(&quot;./steps&quot;)); if (CONF.isWeb) { var wdio = require(&quot;webdriverio&quot;); var webdriver = wdio.remote(CONF.webdriver); SS.setWebdriver(webdriver); }; /** * Execute tests scope. * * @global * @function * @arg {string} name - Scope name. * @arg {function} func - Function with test cases. * @example scope(&quot;Some test scope&quot;, () =&gt; { test(&quot;Some test name&quot;, () =&gt; { before(() =&gt; { someFunc(); }); chunk(&quot;chunk #1&quot;, () =&gt; { someFunc(); }); chunk(&quot;chunk #2&quot;, () =&gt; { someFunc(); }); }); }); */ global.scope = describe; /** * Executed sessions counter. * * @type {Number} */ var sessNum = 0; /** * Executes tests session. * * @global * @function * @arg {string} [name] - Session name. By default it includes start date time. * @arg {object} [ctx] - Session context. By default it's empty. * @arg {function} func - Function with test cases. * @example session(() =&gt; { test(&quot;Test #1&quot;, () =&gt; { chunk(&quot;Chunk #1&quot;, () =&gt; { someFunc(); }); chunk(&quot;Chunk #2&quot;, () =&gt; { someFunc(); }); }); test(&quot;Test #2&quot;, () =&gt; { chunk(&quot;Chunk #1&quot;, () =&gt; { someFunc(); }); chunk(&quot;Chunk #2&quot;, () =&gt; { someFunc(); }); }); }); */ global.session = (name, ctx, func) =&gt; { if (!func &amp;&amp; !ctx) { func = name; ctx = {}; name = `Session ${new Date}`; } else if (!func) { func = ctx; ctx = name; name = `Session ${new Date}`; }; sessNum++; ctx.sessionNumber = sessNum; scope(name, () =&gt; { beforeSession(ctx); func(); afterSession(ctx); }); }; /** * Executes before tests session. May be overridden or expanded. * * @global * @function * @arg {object} ctx - Session context. * @example var oldBeforeSession = beforeSession; global.beforeSession = ctx =&gt; { before(() =&gt; { someFunc(); }); oldBeforeSession(ctx); }; */ global.beforeSession = ctx =&gt; { if (CONF.isWeb) { before(async () =&gt; { if (!CONF.noDriversInstall) { CONF.noDriversInstall = true; await SS.installSeleniumDrivers(); }; await SS.startSeleniumServer(); await SS.launchBrowser(); }); }; }; /** * Executes after tests session. May be overridden or expanded. * * @global * @function * @arg {object} ctx - Session context. * @example var oldAfterSession = afterSession; global.afterSession = ctx =&gt; { oldAfterSession(ctx); after(() =&gt; { someFunc(); }); }; */ global.afterSession = ctx =&gt; { if (CONF.isWeb) { after(async () =&gt; await SS.closeBrowser()); after(async () =&gt; await SS.stopSeleniumServer()); }; }; /** * Basis for any test case. * * If test with the same was registered already, this test will be omitted * with corresponding error in log. * * If retries amount is specified and this test was failed, the test will be * added to queue in separated session with title containing `Retry` and its * number. * * @function * @abstract * @arg {string} name - Name of test case. * @arg {function} func - Test function. */ var baseTest = (names =&gt; { return (name, func) =&gt; { if (names.includes(name)) { logger.warn(`Test case &quot;${name}&quot; is added already. \\ Test case with the same name will be omitted.`); return; }; names.push(name); var testCase = new TestCase(name); var retries = CONF.testRetries; CONF.testCases.push(testCase); var testFunc = ctxs =&gt; { ctxs = ctxs || [{}]; scope(name, () =&gt; { before(() =&gt; { testCase.reset(); testCase.status = TestCase.IN_PROGRESS; CONF.curTestCase = testCase; logger.setTestCase(); }); for (var ctx of ctxs) func(ctx); after(() =&gt; { CONF.curTestCase = null; if (_.isEmpty(testCase.errors)) { testCase.status = TestCase.PASSED; } else { testCase.status = TestCase.FAILED; }; if (testCase.status !== TestCase.FAILED || retries &lt;= 0) { return; }; retries--; var retryNum = CONF.testRetries - retries; var sessName = `Retry #${retryNum}`; /* Hack to pass mocha grep */ var mochaRunner = hacking.getRunner(); if (mochaRunner._grep !== mochaRunner._defaultGrep) { sessName += &quot; - &quot; + mochaRunner._grep.source; }; var ctx = { retryNumber: retryNum }; session(sessName, ctx, () =&gt; { testFunc(testCase.failedParams); }); }); }); }; testFunc(); }; })([]); /** * Executes test case. * * @global * @function * @arg {string} name - Name of test case. * @arg {function} func - Function with test chunks. * @example test(&quot;Some test&quot;, () =&gt; { chunk(&quot;Some chunk&quot;, () =&gt; { someFunc(); }); }); */ global.test = (name, func) =&gt; { baseTest(name, ctx =&gt; { func(ctx); }); }; /** * Executes test chunk. * * Contains actions and verifications, which will be executed separatly * from another chunks. This function is used to organize test * structure and to allocate independent test actions. * * @global * @function * @arg {string} name - Name of test case. * @arg {function} func - Step function. * @example test(&quot;Some test&quot;, () =&gt; { chunk(&quot;Some chunk&quot;, () =&gt; { someFunc(); }); }); */ global.chunk = it; /** * Executes before each test chunk. * * @global * @function * @arg {string} name - Name of test case. * @arg {function} func - Hook function. * @example test(&quot;Some test&quot;, () =&gt; { beforeChunk(() =&gt; { someFunc(); }); chunk(&quot;Chunk #1&quot;, () =&gt; { someFunc(); }); chunk(&quot;Chunk #2&quot;, () =&gt; { someFunc(); }); }); */ global.beforeChunk = beforeEach; /** * Executes after each test chunk. * * @global * @function * @arg {string} name - Name of test case. * @arg {function} func - Hook function. * @example test(&quot;Some test&quot;, () =&gt; { afterChunk(() =&gt; { someFunc(); }); chunk(&quot;Chunk #1&quot;, () =&gt; { someFunc(); }); chunk(&quot;Chunk #2&quot;, () =&gt; { someFunc(); }); }); */ global.afterChunk = afterEach; /** * Iterates test chunks through all languages specifed in config. * * It's applicable for multilingual application. If list of languages is * specified, it will be used firstly. Otherwise from configuration. * * @global * @function * @arg {object} ctx - Test case context. * @arg {function} func - Function with test steps. * @example test(&quot;Some test&quot;, ctx =&gt; { forEachLanguage(ctx, lang =&gt; { beforeChunk(() =&gt; { someFunc(); }); chunk(&quot;Chunk #1&quot;, () =&gt; { someFunc(); }); chunk(&quot;Chunk #2&quot;, () =&gt; { someFunc(); }); }); }); */ global.forEachLanguage = (ctx, func) =&gt; { var languages = ctx.language ? [ctx.language] : CONF.languages; languages.forEach(lang =&gt; { scope(`for language &quot;${lang}&quot;`, () =&gt; { before(() =&gt; CONF.curTestCase.testParams.language = lang); func(lang); }); }); }; × Search results Close "},"cli.js.html":{"id":"cli.js.html","title":"Source: cli.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: cli.js &quot;use strict&quot;; /** * Contains functions to execute tests via command line interface. * * @module */ var path = require(&quot;path&quot;); var Mocha = require(&quot;mocha&quot;); var CONF = require(&quot;./config&quot;); var hacking = require(&quot;./hacking&quot;); /** * Runs tests. * * - executes `runner.js` file, which is entry point to load and execute * files with tests * - connects custom reporter to `mochajs`. * * @function */ module.exports.run = () =&gt; { if (CONF.suppressUncaught) hacking.suppressUncaught(); var mocha = new Mocha({ grep: CONF.grep, timeout: CONF.timeouts.testCase, reporter: path.resolve(__dirname, &quot;reporter&quot;) }); mocha.addFile(path.resolve(__dirname, &quot;runner.js&quot;)); mocha.run(failures =&gt; { process.on(&quot;exit&quot;, () =&gt; { process.exit(failures); }); }); }; × Search results Close "},"config.js.html":{"id":"config.js.html","title":"Source: config.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: config.js &quot;use strict&quot;; /** * Configures `GlaceJS` before tests run. * * @module */ var fs = require(&quot;fs&quot;); var path = require(&quot;path&quot;); var _ = require(&quot;lodash&quot;); var argv = require(&quot;yargs&quot;).argv; var expect = require(&quot;chai&quot;).expect; var mkdirp = require(&quot;mkdirp&quot;); var rimraf = require(&quot;rimraf&quot;); var ConfigError = require(&quot;./error&quot;).ConfigError; var cwd = process.cwd(); /* Load CLI arguments from config */ var argConfig = {}; var argConfigPath = path.resolve(cwd, &quot;args.json&quot;); if (fs.existsSync(argConfigPath)) { argConfig = require(argConfigPath); for (var key in argConfig) { argConfig[_.camelCase(key)] = argConfig[key]; delete argConfig[key]; }; }; _.assign(argConfig, argv); /* Set up tests folder */ if (argConfig.target) { var testsDir = path.resolve(cwd, argConfig.target); } else if (argConfig._ &amp;&amp; argConfig._[0]) { var testsDir = path.resolve(cwd, argConfig._[0]); } else { var testsDir = path.resolve(cwd, &quot;tests&quot;); }; if (!fs.existsSync(testsDir)) { throw new ConfigError(`File or folder with tests &quot;${testsDir}&quot; is absent`); }; /* Set up reports folder */ var reportsDir = path.resolve(cwd, (argConfig.report || &quot;reports&quot;)); if (fs.existsSync(reportsDir)) { rimraf.sync(reportsDir); }; mkdirp.sync(reportsDir); /* Set up default config */ /** * Contains `GlaceJS` main configuration. * * @namespace * @property {?TestCase} [curTestCase=null] - Pointer to current test case object. * On tests run it points to `null`. The pointer changes when a test launches. * @property {TestCase[]} [testCases=[]] - List of all executed test cases. It * populates when a test launches. It is used to store full information about * executed tests and may be used in reporter. * @property {string} testsDir - Path to tests directory or single test module. * If it contains path to directory, tests will be loaded recursive from it. * By default `GlaceJS` tries to load tests from `tests` folder in current * work directory. * @property {string} reportsDir - Path to directory where reports will be put. * By default `GlaceJS` tries to put reports to `reports` folder in current * work directory. * @property {object} log - Logger settings. * @property {string} log.file - Path to common logger file, which is * `glacejs.log` inside current work directory. * @property {string} [log.level=debug] - Common logger level. * @property {object} webdriver - Webdriver settings. Corresponds to * `webdriverio` remote settings. * @property {boolean} [isWeb=false] - Flag to launch tests in browser. * @property {string} appUrl - URL of web application. * @property {boolean} [noDriversInstall=true] - Flag to not install selenium * drivers on start. * @property {string} [platform=pc] - Platform type where should launch tests. * Permitted values are `pc`, `android`, `ios`. * @property {string} browserName - Name of browser where tests will be * executed. Default value depends on platform. `Chrome` for `pc`, `chrome` * for `android`, `safari` for `ios`. * @property {number} [testRetries=0] - Number of times to retry a failed test. * @property {boolean} [stdoutLog=false] - Flag to print log message in stdout. * @property {boolean} [toTestrail=false] - Flag to plug `testrail` reporter. * @property {string} [grep] - Filter for test cases. * @property {boolean} [suppressUncaught=false] - Suppress uncaught exceptions * processing by mochajs. * @property {boolean} [isDesktop=false] - Flag that tests are launched on * desktop. * @property {boolean} [isMobile=false] - Flag that tests are launched on * mobile device. * @property {boolean} [isAndroid=false] - Flag that tests are launched on * android device. * @property {boolean} [isIos=false] - Flag that tests are launched on iOS * device. */ var config = module.exports = { curTestCase: null, testCases: [], testsDir: testsDir, reportsDir: reportsDir, log: { file: path.resolve(cwd, &quot;glacejs.log&quot;), level: &quot;debug&quot;, }, timeouts: { testCase: 180000, }, cache: {}, webdriver: {} // will be configured below }; /* Use CLI arguments */ config.isWeb = !!argConfig.web; // default `false` config.appUrl = argConfig.url; config.noDriversInstall = !argConfig.installDrivers; // default `true` config.platform = argConfig.platform || &quot;pc&quot;; expect([&quot;pc&quot;, &quot;android&quot;, &quot;ios&quot;], &quot;Invalid `--platform` value&quot;).include(config.platform); config.browserName = argConfig.browser; // default is platform specific config.testRetries = argConfig.retry || 0; expect(config.testRetries).gte(0); config.stdoutLog = !!argConfig.stdoutLog; // default `false` config.toTestrail = !!argConfig.testrail; // default `false` config.grep = argConfig.grep; config.suppressUncaught = !!argConfig.suppressUncaught; // default `false` /* Configure webdriver */ var desired = config.webdriver.desiredCapabilities = {}; if (argConfig.seleniumAddr) { var host, port; [host, port] = argConfig.seleniumAddr.split(':'); if (host) config.webdriver.host = host; if (port) config.webdriver.port = port; }; if (config.platform === &quot;pc&quot;) { config.isDesktop = true; desired.browserName = config.browserName || &quot;chrome&quot;; if (desired.browserName === &quot;chrome&quot;) { desired.chromeOptions = { args: [ &quot;test-type&quot;, &quot;start-maximized&quot;, &quot;disable-infobars&quot;, &quot;enable-precise-memory-info&quot; ], prefs: { &quot;credentials_enable_service&quot;: false, &quot;profile&quot;: { &quot;password_manager_enabled&quot;: false, }, }, }; }; } else { config.isMobile = true; desired.deviceName = argConfig.device; desired.platformVersion = String(argConfig.osVersion); if (argConfig.udid) { desired.udid = argConfig.udid; }; if (config.platform === &quot;android&quot;) { config.isAndroid = true; desired.browserName = argConfig.browser || &quot;chrome&quot;; desired.platformName = &quot;Android&quot;; }; if (config.platform === &quot;ios&quot;) { config.isIos = true; desired.browserName = argConfig.browser || &quot;safari&quot;; desired.platformName = &quot;iOS&quot;; desired.automationName = argConfig.iosEngine || &quot;XCUITest&quot;; }; }; /* Merge user config */ var userConfig = {}; var userConfigPath = path.resolve(cwd, &quot;config.js&quot;); if (fs.existsSync(userConfigPath)) { userConfig = require(userConfigPath); }; _.assign(config, userConfig); × Search results Close "},"error.js.html":{"id":"error.js.html","title":"Source: error.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: error.js &quot;use strict&quot;; /** * Contains `GlaceJS` errors. * * @module */ var util = require(&quot;util&quot;); var BaseError = require(&quot;es6-error&quot;); /** * Error which is thrown in `GlaceJS`, if no more specific error is defined. * * @class * @arg {string} message - Error message. */ var GlaceError = module.exports.GlaceError = function (message) { BaseError.call(this, message); }; util.inherits(GlaceError, BaseError); /** * Error which is thrown when configuration is wrong. * * @class * @arg {string} message - Error message. */ var ConfigError = module.exports.ConfigError = function (message) { GlaceError.call(this, message); }; util.inherits(ConfigError, GlaceError); /** * Error which is thrown when step execution is wrong. * * @class * @arg {string} message - Error message. */ var StepError = module.exports.StepError = function (message) { GlaceError.call(this, message); }; util.inherits(StepError, GlaceError); × Search results Close "},"hacking.js.html":{"id":"hacking.js.html","title":"Source: hacking.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: hacking.js &quot;use strict&quot;; /** * Contains hacks for test run. * * @module */ var Mocha = require(&quot;mocha&quot;); var Pending = require(&quot;mocha/lib/pending&quot;); var logger = require(&quot;./logger&quot;); /** * Patches original `Mocha.Runner.prototype.uncaught` in order to skip * exceptions from proxy server `res.send()`. * * @function */ module.exports.suppressUncaught = () =&gt; { Mocha.Runner.prototype.uncaught = function (err) { logger.error(&quot;UNCAUGHT EXCEPTION&quot;, err); return; }; }; /** * Mocha runner. * * @type {Runner} */ var _mochaRunner; (grep =&gt; { Mocha.Runner.prototype.grep = function() { _mochaRunner = this; return grep.apply(this, arguments); }; })(Mocha.Runner.prototype.grep); /** * Gets mocha runner. * * @function */ module.exports.getRunner = () =&gt; _mochaRunner; /** * Patches mocha runner to allow multiple independent `after`-calls. */ Mocha.Runner.prototype.hook = function (name, fn) { var suite = this.suite; var hooks = suite['_' + name]; var self = this; function next (i) { var hook = hooks[i]; if (!hook) { return fn(); } self.currentRunnable = hook; hook.ctx.currentTest = self.test; self.emit('hook', hook); if (!hook.listeners('error').length) { hook.on('error', function (err) { self.failHook(hook, err); }); } hook.run(function (err) { var testError = hook.error(); if (testError) { self.fail(self.test, testError); } if (err) { if (err instanceof Pending) { if (name === 'beforeEach' || name === 'afterEach') { self.test.pending = true; } else { utils.forEach(suite.tests, function (test) { test.pending = true; }); // a pending hook won't be executed twice. hook.pending = true; } } else { self.failHook(hook, err); // stop executing hooks, notify callee of hook err if (!name.startsWith(&quot;after&quot;)) return fn(err); } } self.emit('hook end', hook); delete hook.ctx.currentTest; next(++i); }); } Mocha.Runner.immediately(function () { next(0); }); }; × Search results Close "},"image.js.html":{"id":"image.js.html","title":"Source: image.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: image.js &quot;use strict&quot;; /** * Contains classes and functions to process images. * * @module */ var sharp = require(&quot;sharp&quot;); var temp = require(&quot;temp&quot;); var U = require(&quot;./utils&quot;); /** * Creates new instance of Image. * * @class * @arg {string} srcPath - path to processed image * @arg {object} [srcOpts] - image options * @arg {number} [srcOpts.scaleX] - image current scale value on `X` axis * @arg {number} [srcOpts.scaleY] - image current scale value on `Y` axis */ var Image = module.exports = function (srcPath, srcOpts) { if (!(this instanceof Image)) return new Image(srcPath, srcOpts); srcOpts = U.defVal(srcOpts, {}); srcOpts.scaleX = U.defVal(srcOpts.scaleX, 1); srcOpts.scaleY = U.defVal(srcOpts.scaleY, 1); this._srcPath = srcPath; this._srcOpts = srcOpts; }; /** * Defines if processed image includes specified image. * * @method * @arg {string} dstPath - path to potentially included image * @arg {object} [dstOpts] - included image options * @arg {number} [dstOpts.tolerance=0.05] - comparison tolerance * @arg {?string} [dstOpts.matchedPath=null] - path to same captured place * @arg {boolean} [dstOpts.saveMatch=false] - flag to capture images * intersection or no * @return {Promise.&lt;object&gt;} - result */ Image.prototype.includes = function (dstPath, dstOpts) { dstOpts = U.defVal(dstOpts, {}); dstOpts.scaleX = U.defVal(dstOpts.scaleX, 1); dstOpts.scaleY = U.defVal(dstOpts.scaleY, 1); this._dstPath = dstPath; this._dstOpts = dstOpts; this._tolerance = U.defVal(dstOpts.tolerance, .05); this._matchedPath = U.defVal(dstOpts.matchedPath); this._saveMatch = U.defVal(dstOpts.saveMatch, !!this._matchedPath); if (this._saveMatch &amp;&amp; !this._matchedPath) this._matchedPath = temp.path({ suffix: '.png' }); this._pixelDenominator = 255 * Math.sqrt(3); var srcImage; return this._loadImg(this._srcPath, this._srcOpts).then(image =&gt; { srcImage = image; return this._loadImg(this._dstPath, this._dstOpts); }).then(dstImage =&gt; { return this._includes(srcImage, dstImage); }).then(result =&gt; { if (!result.isIncluded) return { isIncluded: false }; if (!this._saveMatch) return result; return this ._saveMatchImage(result.offsetX, result.offsetY, result.width, result.height) .then(() =&gt; { result.matchedPath = this._matchedPath; return result; }); }); }; /** * Loads image. * * @method * @protected * @arg {string} imgPath - path loaded image * @arg {object} imgOpts - image options * @return {Promise.&lt;object&gt;} - image data */ Image.prototype._loadImg = function(imgPath, imgOpts) { var width, height; var img = sharp(imgPath); return img.metadata().then(metadata =&gt; { width = Math.ceil(metadata.width / imgOpts.scaleX); height = Math.ceil(metadata.height / imgOpts.scaleY); return img.resize(width, height).raw().toBuffer(); }).then(data =&gt; { return { data: data, width: width, height: height }; }); }; /** * Saves matched part of image. * * @method * @protected * @arg {number} left - offset from left image border * @arg {number} top - offset from top image border * @arg {number} width - width of matched part * @arg {number} height - height of matched part * @return {Promise} */ Image.prototype._saveMatchImage = function (left, top, width, height) { return sharp(this._srcPath) .extract({ left: left, top: top, width: width, height: height }) .toFile(this._matchedPath); }; /** * Defines whether one image data includes another. * * @method * @protected * @arg {object} src - source image data * @arg {object} dst - destination image data, which is potentially included * @return {object} - result */ Image.prototype._includes = function (src, dst) { var srcPixels = this._cropPixels(this._getPixels(src)), dstPixels = this._cropPixels(this._getPixels(dst)); var offsetX, offsetY, diffValue, x, y, pixels; var dstUsedPixels = [], dstWidth = dstPixels[0].length, dstHeight = dstPixels.length; var result = { isIncluded: false, diffValue: null, offsetX: null, offsetY: null, width: dstWidth, height: dstHeight }; var deltaX = srcPixels[0].length - dstWidth, deltaY = srcPixels.length - dstHeight; for (y = 0; y &lt; dstHeight; y++) { pixels = dstPixels[y]; for (x = 0; x &lt; dstWidth; x++) { if (this._isPixelUsed(pixels[x])) dstUsedPixels.push({ pixel: pixels[x], x: x, y: y }); }; }; for (offsetY = 0; offsetY &lt;= deltaY; offsetY++) { for (offsetX = 0; offsetX &lt;= deltaX; offsetX++) { diffValue = this._getDiffValue(srcPixels, dstUsedPixels, offsetX, offsetY); if (diffValue === null) continue; if (result.diffValue === null || result.diffValue &gt; diffValue) { result.isIncluded = true; result.diffValue = diffValue; result.offsetX = offsetX; result.offsetY = offsetY; }; if (diffValue === 0 || !this._saveMatch) return result; }; }; return result; }; /** * Calculates difference between source pixels and destination pixels. * * @method * @protected * @arg {object[][]} - source pixels matrix * @arg {object[][]} - destination pixels matrix * @arg {number} offsetX - source left border offset * @arg {number} offsetY - source top border offset * @return {number} - difference value */ Image.prototype._getDiffValue = function (srcPixels, dstPixels, offsetX, offsetY) { var diffPixels = 0, limit = this._tolerance * dstPixels.length, dstPixel, srcPixel, i; for (i = 0; i &lt; dstPixels.length; i++) { dstPixel = dstPixels[i]; srcPixel = srcPixels[offsetY + dstPixel.y][offsetX + dstPixel.x]; if (this._isPixelTolerant(srcPixel, dstPixel.pixel)) continue; diffPixels++; if (diffPixels &gt; limit) return null; }; return diffPixels / dstPixels.length; }; /** * Defines whether pixel should be used for difference calculation or no, * according its alpha value. * * @method * @protected * @arg {object} pixel - pixel * @return {boolean} - `true` if should be, `false` otherwise */ Image.prototype._isPixelUsed = function (pixel) { return (255 - pixel.A) / 255 &lt; this._tolerance; }; /** * Defines whether source pixel is tolerant to destination pixel. * * @method * @protected * @arg {object} srcPixel - source pixel * @arg {object} dstPixel - destination pixel * @return {boolean} - `true` if pixels are tolerant, `false` otherwise */ Image.prototype._isPixelTolerant = function(srcPixel, dstPixel) { var deltaR = srcPixel.R - dstPixel.R, deltaG = srcPixel.G - dstPixel.G, deltaB = srcPixel.B - dstPixel.B; return Math.sqrt(deltaR * deltaR + deltaG * deltaG + deltaB * deltaB) / this._pixelDenominator &lt; this._tolerance; }; /** * Retrieves pixels from image data. * * @method * @protected * @arg {object} img - image data * @return {object[][]} - pixels matrix */ Image.prototype._getPixels = function (img) { var pixels = [], height = img.height, width = img.width * 4, x, y, offset; for (y = 0; y &lt; height; y++) { offset = width * y; pixels.push([]); for (var x = 0; x &lt; width; x += 4) { pixels[y].push({ R: img.data[offset + x], G: img.data[offset + x + 1], B: img.data[offset + x + 2], A: img.data[offset + x + 3] }); }; }; return pixels; }; /** * Crops pixels, removes empty rows and columns. * * @method * @protected * @arg {object[][]} pixels - pixels matrix * @return {object[][]} - cropped pixels matrix */ Image.prototype._cropPixels = function (pixels) { pixels = this._cropTop(pixels); pixels.reverse(); pixels = this._cropTop(pixels); pixels.reverse(); pixels = this._transpose(pixels); pixels = this._cropTop(pixels); pixels.reverse(); pixels = this._cropTop(pixels); pixels.reverse(); return this._transpose(pixels); }; /** * Crops top part of pixels matrix. * * @method * @protected * @arg {object[][]} pixels - pixels matrix * @return {object[][]} - cropped pixels matrix */ Image.prototype._cropTop = function (pixels) { var croppedPixels = [], isTransparent = true, width = pixels[0].length, height = pixels.length, x, y, pixelsRow; for (y = 0; y &lt; height; y++) { pixelsRow = pixels[y]; if (isTransparent) { for (x = 0; x &lt; width; x++) { if (pixelsRow[x].A != 0) { isTransparent = false; break; }; }; }; if (!isTransparent) croppedPixels.push(pixelsRow); }; return croppedPixels; }; /** * Transposes pixels matrix. * * @method * @arg {object[][]} pixels - pixels matrix * @return {object[][]} transposed pixels matrix */ Image.prototype._transpose = function (pixels) { var width = pixels[0].length, height = pixels.length, tPixels = [], x, y; if (width === 0 || height === 0) return []; for (y = 0; y &lt; width; y++) { tPixels[y] = []; for (x = 0; x &lt; height; x++) { tPixels[y][x] = pixels[x][y]; }; }; return tPixels; }; × Search results Close "},"index.js.html":{"id":"index.js.html","title":"Source: index.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: index.js &quot;use strict&quot;; /** * Main `GlaceJS` module. * * @module * * @property {object} config - {@link module:config|Config} module. * @property {object} error - {@link module:error|Error} module. * @property {object} logger - {@link module:logger|Logger} module. * @property {object} page - {@link module:page/index|Page} module. * @property {object} reporter - {@link module:reporter/index|Reporter} module. */ module.exports = { config: require(&quot;./config&quot;), error: require(&quot;./error&quot;), logger: require(&quot;./logger&quot;), page: require(&quot;./page&quot;), reporter: require(&quot;./reporter&quot;), }; × Search results Close "},"logger.js.html":{"id":"logger.js.html","title":"Source: logger.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: logger.js &quot;use strict&quot;; /** * Configures `GlaceJS` logging. * * @module */ var fs = require(&quot;fs&quot;); var path = require(&quot;path&quot;); var _ = require(&quot;lodash&quot;); var mkdirp = require(&quot;mkdirp&quot;); var winston = require(&quot;winston&quot;); var CONF = require(&quot;./config&quot;); if (fs.existsSync(CONF.log.file)) fs.unlinkSync(CONF.log.file); winston.level = CONF.log.level; winston.add(winston.transports.File, { filename: CONF.log.file, json: false }); if (!CONF.stdoutLog) winston.remove(winston.transports.Console); var stepsLogger = new winston.Logger; var debugLogger = new winston.Logger; /** * Logs step info to `steps.log` file inside folder with test case name. * * @function */ winston.step = function () { if (CONF.stdoutLog) console.log.apply(console, arguments); stepsLogger.info.apply(stepsLogger, arguments); }; /** * Logs step debug to `debug.log` file inside folder with test case name. * * @function */ winston.stepDebug = function () { if (CONF.stdoutLog) console.log.apply(console, arguments); debugLogger.info.apply(debugLogger, arguments); }; /** * Sets target logs folder according by test case name. * * @function */ winston.setTestCase = () =&gt; { var logsDir = path.resolve(CONF.reportsDir, CONF.curTestCase.name, &quot;logs&quot;); mkdirp.sync(logsDir); var stepsLog = path.resolve(logsDir, &quot;steps.log&quot;); var debugLog = path.resolve(logsDir, &quot;debug.log&quot;); if (stepsLogger.transports.file) { stepsLogger.remove(winston.transports.File); }; stepsLogger.add(winston.transports.File, { filename: stepsLog, json: false }); if (debugLogger.transports.file) { debugLogger.remove(winston.transports.File); }; debugLogger.add(winston.transports.File, { filename: debugLog, json: false }); }; module.exports = winston; × Search results Close "},"page_element.js.html":{"id":"page_element.js.html","title":"Source: page/element.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: page/element.js &quot;use strict&quot;; /** * Defines classes responsible for interaction with DOM in browser context. * * @module */ var weak = require(&quot;weak&quot;); var U = require(&quot;./utils&quot;); var PointerEvents = require(&quot;./event&quot;).PointerEvents; /** * Creates a new instance of `Control`. * * `Control` binds DOM control in browser context with virtual control in test. * * @class * @arg {string} name - control name * @arg {object} driver - selenium driver instance */ var Control = function (name, selector, page) { this.name = name; this.selector = selector; this.event = new PointerEvents(selector, page); this._page = weak(page); this._elCmd = `document.querySelector('${this._selector}')`; }; /** * Gets text content of DOM element. * * @method * @return {Promise.&lt;string&gt;} - text value or null */ Control.prototype.getText = function () { return this._driver.getText(this._selector).then(value =&gt; { if (value) return value.trim(); return this._driver.getAttribute(this._selector, &quot;value&quot;); }).then(value =&gt; { if (value) return value.trim(); return this._driver.getAttribute(this._selector, &quot;innerHTML&quot;); }).then(value =&gt; { if (value) return value.trim(); return null; }); }; /** * Gets DOM control location with attributes: * `x`, `y`, `midX`, `midY`, `width`, `height` * * @method * @return {Promise.&lt;object&gt;} - location of control */ Control.prototype.location = function (opts) { var cmd = ` \\ var ctrl = &quot; + this._elCmd + &quot;; \\ var rect = ctrl.getBoundingClientRect(); \\ var location = {}; \\ location.x = Math.ceil(rect.left); \\ location.y = Math.ceil(rect.top); \\ location.width = Math.ceil(rect.width); \\ location.height = Math.ceil(rect.height); \\ location.midX = Math.ceil(location.x + location.width / 2); \\ location.midY = Math.ceil(location.y + location.height / 2); \\ return location;`; return this._driver.execute(cmd).then(result =&gt; result.value); }; /** * Scrolls control into browser viewport. * * @method * @return {Promise.&lt;*&gt;} - result of javascript execution in browser context */ Control.prototype.scrollIntoView = function () { var cmd = &quot;return &quot; + this._elCmd + &quot;.scrollIntoView();&quot;; return this._driver.execute(cmd).then(result =&gt; { return result.value; }); }; /** * Clicks control in browser. * * @method * @return {Promise.&lt;*&gt;} - result of selenium execution in browser context */ Control.prototype.click = function () { return this.scrollIntoView().then(() =&gt; { return this._driver.click(this._selector); }); }; /** * Taps control in browser. * * @method */ Control.prototype.tap = Control.prototype.click; /** * Defines whether control is selected or no. * * @method * @return {Promise.&lt;boolean&gt;} - `true` if control is selected, `false` otherwise */ Control.prototype.isSelected = function () { return this._driver.isSelected(this._selector).then(result =&gt; { if (result) return true; return this._driver.getAttribute(this._selector, &quot;class&quot;).then(result =&gt; { return result.includes(&quot;selected&quot;); }); }); }; /** * Defines whether control is exist or no. * * @method * @return {Promise.&lt;boolean&gt;} - `true` if control is exist, `false` otherwise */ Control.prototype.isExist = function () { var cmd = &quot;return !!&quot; + this._elCmd + &quot;;&quot;; return this._driver.execute(cmd).then(result =&gt; { return result.value; }); }; /** * Waits for control is exist. * * @method * @arg {number} [timeout] - timeout to wait, ms * @return {Promise.&lt;*&gt;} - result of selenium execution * @throws {TimeoutError} - If control isn't exist after timeout. */ Control.prototype.waitForExist = function (timeout) { var timeout = U.defVal(timeout, CONF.timeout.animation); var errMsg = this._name + &quot; isn't exist after &quot; + timeout + &quot; ms&quot;; return this._driver.waitUntil(async () =&gt; { return await this.isExist(); }, timeout, errMsg); }; /** * Waits for control isn't exist. * * @method * @arg {number} [timeout] - timeout to wait, ms * @return {Promise.&lt;*&gt;} - result of selenium execution * @throws {TimeoutError} - If control is still exist after timeout. */ Control.prototype.waitForNonExist = function (timeout) { var timeout = U.defVal(timeout, CONF.timeout.animation); var errMsg = this._name + &quot; is still exist after &quot; + timeout + &quot; ms&quot;; return this._driver.waitUntil(async () =&gt; { return !(await this.isExist()); }, timeout, errMsg); }; /** * Defines whether control is visible or no. * * @method * @return {Promise.&lt;boolean&gt;} - `true` if control is visible, `false` otherwise */ Control.prototype.isVisible = function () { return this.isExist().then(result =&gt; { if (!result) return false; return this._driver.isVisible(this._selector); }); }; /** * Waits for control is visible. * * @method * @arg {number} [timeout] - timeout to wait, ms * @return {Promise.&lt;*&gt;} - result of selenium execution * @throws {TimeoutError} - If control isn't visible after timeout. */ Control.prototype.waitForVisible = function (timeout) { var timeout = U.defVal(timeout, CONF.timeout.animation); var errMsg = this._name + &quot; isn't visible after &quot; + timeout + &quot; ms&quot;; return this._driver.waitUntil(async () =&gt; { return await this.isVisible(); }, timeout, errMsg); }; /** * Waits for control is invisible. * * @method * @arg {number} [timeout] - timeout to wait, ms * @return {Promise.&lt;*&gt;} - result of selenium execution * @throws {TimeoutError} - If control is still visible after timeout. */ Control.prototype.waitForInvisible = function (timeout) { var timeout = U.defVal(timeout, CONF.timeout.animation); var errMsg = this._name + &quot; is still visible after &quot; + timeout + &quot; ms&quot;; return this._driver.waitUntil(async () =&gt; { return !(await this.isVisible()); }, timeout, errMsg); }; × Search results Close "},"page_event.js.html":{"id":"page_event.js.html","title":"Source: page/event.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: page/event.js &quot;use strict&quot;; /** * Browser events. * * @module */ var weak = require(&quot;weak&quot;); /** * Creates a new pointer events instance. * * @class * @classdesc Contains browser pointer events. */ var PointerEvents = module.exports.PointerEvents = function (selector, page) { this.selector = selector; this._page = weak(page); this._elCmd = `document.querySelector('${this._selector}')`; }; /** * Moves pointer over element by selector. * * @param {string} selector - css selector * @param {integer} x - `x` coordinate * @param {integer} y - `y` coordinate * @return {object} - webdriverio instance */ PointerEvents.prototype.over = function (x, y) { var cmd = `var el = ${this._elCmd}; \\ var ev = new PointerEvent('pointerover', \\ { clientX: ${x}, clientY: ${y}, \\ bubbles: true, cancelable: true, view: window }); \\ el.dispatchEvent(ev);`; return this._driver.execute(cmd); } /** * Enters pointer to element by selector. * * @param {string} selector - css selector * @param {integer} x - `x` coordinate * @param {integer} y - `y` coordinate * @return {object} - webdriverio instance */ PointerEvents.prototype.enter = function (selector, x, y) { var cmd = &quot;var el = document.querySelector('&quot; + selector + &quot;'); \\ var ev = new PointerEvent('pointerenter', \\ { clientX: &quot; + x + &quot;, clientY: &quot; + y + &quot;, \\ bubbles: true, cancelable: true, view: window }); \\ el.dispatchEvent(ev);&quot; return this._driver.execute(cmd); } /** * Presses pointer down on element by selector. * * @param {string} selector - css selector * @param {integer} x - `x` coordinate * @param {integer} y - `y` coordinate * @return {object} - webdriverio instance */ PointerEvents.prototype.down = function (selector, x, y) { var cmd = &quot;var el = document.querySelector('&quot; + selector + &quot;'); \\ var ev = new PointerEvent('pointerdown', \\ { clientX: &quot; + x + &quot;, clientY: &quot; + y + &quot;, \\ bubbles: true, cancelable: true, view: window }); \\ el.dispatchEvent(ev);&quot; return this._driver.execute(cmd); } /** * Unpresses pointer up on element by selector. * * @param {string} selector - css selector * @param {integer} x - `x` coordinate * @param {integer} y - `y` coordinate * @return {object} - webdriverio instance */ PointerEvents.prototype.up = function (selector, x, y) { var cmd = &quot;var el = document.querySelector('&quot; + selector + &quot;'); \\ var ev = new PointerEvent('pointerup', \\ { clientX: &quot; + x + &quot;, clientY: &quot; + y + &quot;, \\ bubbles: true, cancelable: true, view: window }); \\ el.dispatchEvent(ev);&quot; return this._driver.execute(cmd); } /** * Moves pointer to element by selector. * * @param {string} selector - css selector * @param {integer} x - `x` coordinate * @param {integer} y - `y` coordinate * @return {object} - webdriverio instance */ PointerEvents.prototype.move = function (selector, x, y) { var cmd = &quot;var el = document.querySelector('&quot; + selector + &quot;'); \\ var ev = new PointerEvent('pointermove', \\ { clientX: &quot; + x + &quot;, clientY: &quot; + y + &quot;, \\ bubbles: true, cancelable: true, view: window }); \\ el.dispatchEvent(ev);&quot; return this._driver.execute(cmd); } /** * Cancel pointer on element by selector. * * @param {string} selector - css selector * @param {integer} x - `x` coordinate * @param {integer} y - `y` coordinate * @return {object} - webdriverio instance */ PointerEvents.prototype.cancel = function (selector, x, y) { var cmd = &quot;var el = document.querySelector('&quot; + selector + &quot;'); \\ var ev = new PointerEvent('pointercancel', \\ { clientX: &quot; + x + &quot;, clientY: &quot; + y + &quot;, \\ bubbles: true, cancelable: true, view: window }); \\ el.dispatchEvent(ev);&quot; return this._driver.execute(cmd); } /** * Moves out pointer from element by selector. * * @param {string} selector - css selector * @param {integer} x - `x` coordinate * @param {integer} y - `y` coordinate * @return {object} - webdriverio instance */ PointerEvents.prototype.out = function (selector, x, y) { var cmd = &quot;var el = document.querySelector('&quot; + selector + &quot;'); \\ var ev = new PointerEvent('pointerout', \\ { clientX: &quot; + x + &quot;, clientY: &quot; + y + &quot;, \\ bubbles: true, cancelable: true, view: window }); \\ el.dispatchEvent(ev);&quot; return this._driver.execute(cmd); } /** * Leaves pointer from element by selector. * * @param {string} selector - css selector * @param {integer} x - `x` coordinate * @param {integer} y - `y` coordinate * @return {object} - webdriverio instance */ PointerEvents.prototype.leave = function (selector, x, y) { var cmd = &quot;var el = document.querySelector('&quot; + selector + &quot;'); \\ var ev = new PointerEvent('pointerleave', \\ { clientX: &quot; + x + &quot;, clientY: &quot; + y + &quot;, \\ bubbles: true, cancelable: true, view: window }); \\ el.dispatchEvent(ev);&quot; return this._driver.execute(cmd); } × Search results Close "},"page_index.js.html":{"id":"page_index.js.html","title":"Source: page/index.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: page/index.js &quot;use strict&quot;; /** * Page. * * @module */ var GlaceError = require(&quot;../error&quot;).GlaceError; var Element = require(&quot;./element&quot;); /** * Page of browser. * * @class * @arg {string} name - Name of page. * @arg {string} pageUrl - URL of page. * @arg {object} elements - Element names and selectors dictionary. */ var Page = module.exports.Page = function (name, pageUrl, elements) { this.name = name; this.url = pageUrl; this._webdriver = null; this.addElements(elements); }; /** * Sets webdriver for page. * * @method * @arg {object} webdriver - Webdriver instance. */ Page.prototype.setDriver = function (webdriver) { this._webdriver = webdriver; }; /** * Helper to get webdriver. * * @method * @ignore * @return {object} - Webdriver instance. * @throws {AssertionError} - If webdriver isn't set yet. */ Page.prototype._getDriver = function () { expect(this._webdriver, &quot;Webdriver isn't set&quot;) .to.not.be.null; return this._webdriver; }; /** * Adds elements to page. * * @method * @arg {object} elements - Element names and selectors dictionary. */ Page.prototype.addElements = function (elements) { for (var name in elements) { var selector = elements[name]; if (this[name]) { throw new GlaceError( `Page '${this.name}' already contains property '${name}'`); }; this[name] = new Element(name, selector, page); }; }; /** * Removes elements from page. * * @method * @arg {...string} elementNames - Sequence of element names. */ Page.prototype.removeElements = function () { for (var name of arguments) delete this[name]; }; /** * Opens page in browser. * * @method * @arg {string} hostUrl - URL of host where page is located. */ Page.prototype.open = function (hostUrl) { var fullUrl = url.resolve(hostUrl, this.url); return this._getDriver().url(fullUrl); }; × Search results Close "},"proxy_base.js.html":{"id":"proxy_base.js.html","title":"Source: proxy/base.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: proxy/base.js &quot;use strict&quot;; /** * Base proxy. * * @module */ var GlaceError = require(&quot;../error&quot;).GlaceError; var U = require(&quot;../utils&quot;); /** * Base proxy. * * @class * @abstract */ var BaseProxy = module.exports = function (opts) { this.isRunning = false; this.speed = null; this.responsesData = null; this.useCache = U.defVal(opts.useCache, false); this._timeout = U.defVal(opts.timeout, 60000); this._port = U.defVal(opts.port, 0); this._proxy = null; }; /** * Sets speed of responses from proxy to client. * * @method * @arg {number} speed - Proxy responses speed. kb/s. */ BaseProxy.prototype.setSpeed = function (speed) { this.speed = speed; }; /** * Resets speed of responses. * * @method */ BaseProxy.prototype.resetSpeed = function () { this.speed = null; }; /** * Starts to measure responses and gather information of them. * * @method */ BaseProxy.prototype.measureResponses = function () { this.responsesData = []; }; /** * Disables responses measurement. * * @method */ BaseProxy.prototype.unmeasureResponses = function () { this.responsesData = null; }; /** * Gets responses data. * * @method */ BaseProxy.prototype.getResponsesData = function () { if (this.responsesData === null) return null; return _.cloneDeep(this.responsesData); }; /** * Starts proxy. * * @method */ BaseProxy.prototype.start = function () { throw new Error(&quot;Should be implemented in derived class&quot;); }; /** * Stops proxy server. * * @method */ BaseProxy.prototype.stop = function () { throw new Error(&quot;Should be implemented in derived class&quot;); }; × Search results Close "},"proxy_globalProxy.js.html":{"id":"proxy_globalProxy.js.html","title":"Source: proxy/globalProxy.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: proxy/globalProxy.js &quot;use strict&quot;; /** * Describes global transparent proxy. * * @module */ var fs = require(&quot;fs&quot;); var path = require(&quot;path&quot;); var util = require(&quot;util&quot;); var expect = require(&quot;chai&quot;).expect; var MitmProxy = require(&quot;http-mitm-proxy&quot;); var spawn = require(&quot;cross-spawn&quot;); var GlaceError = require(&quot;../error&quot;).GlaceError; var U = require(&quot;../utils&quot;); var BaseProxy = require(&quot;./base&quot;); var middleware = require(&quot;./middleware&quot;); /** * Creates new instance of `GlobalProxy`. * * @class * @classdesc - Contains methods to run and manage global transparent proxy. * @arg {object} [opts] - global proxy options * @arg {number} [opts.port=8080] - global proxy port * @arg {number} [opts.timeout=0] - global proxy timeout * @arg {boolean} [opts.installCertificate=false] - flag to install global * proxy certificate as trusted in order to manage `https` connection or no * @arg {?string} [opts.rootPath] - Folder where proxy starts in order to * generate self-signed certificate. By default is `current work directory`. * @arg {boolean} [opts.useCache=false] - flag to cache and take from cache responses */ var GlobalProxy = module.exports = function (opts) { opts = U.defVal(opts, {}); BaseProxy.call(this, opts); this._installCertificate = U.defVal(opts.installCertificate, false); this._certificatePath = path.resolve(process.cwd(), &quot;.http-mitm-proxy&quot;, &quot;certs&quot;, &quot;ca.pem&quot;); this._proxy = MitmProxy(); this._proxy.onRequest(async (ctx, callback) =&gt; { this.req = ctx.clientToProxyRequest; this.res = ctx.proxyToClientResponse; for (var mw of middleware) if (await mw.call(this)) return; delete this.req; delete this.res; return callback(); }); this._proxy.onResponse((ctx, callback) =&gt; { ctx.proxyToClientResponse.setHeader( &quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;); return callback(null); }); }; util.inherits(GlobalProxy, BaseProxy); /** * Starts global proxy if it&quot;s not started yet. * * @method */ GlobalProxy.prototype.start = function () { if (this.isRunning) return; return new Promise((resolve, reject) =&gt; { this._proxy.listen({ port: this._port, silent: true, timeout: this._timeout }, err =&gt; { if (err) reject(err); resolve(); }); }).then(() =&gt; { this.isRunning = true; if (this._installCertificate) { if (process.platform !== &quot;win32&quot;) { throw new GlaceError(&quot;For your platform certificate&quot; + &quot;installation isn't implemented&quot;); }; expect(fs.existsSync(this._certificatePath), `Proxy certificate ${this._certificatePath} is absent`) .to.be.true; var proc = spawn.sync(&quot;certutil&quot;, [ &quot;-addstore&quot;, &quot;-enterprise&quot;, &quot;-f&quot;, &quot;Root&quot;, this._certificatePath ]); if (proc.status !== 0) { throw new GlaceError( &quot;Can't install proxy certificate as trusted:\\n&quot; + proc.stdout.toString()); }; }; }); }; /** * Stops global proxy if it&quot;s not stopped yet. * * @method */ GlobalProxy.prototype.stop = function () { if (!this.isRunning) return; this._proxy.close(); this.isRunning = false; }; × Search results Close "},"proxy_index.js.html":{"id":"proxy_index.js.html","title":"Source: proxy/index.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: proxy/index.js &quot;use strict&quot;; /** * Proxy package. * * @module */ module.exports = { Base: require(&quot;./base&quot;), GlobalProxy: require(&quot;./globalProxy&quot;), WebProxy: require(&quot;./proxy&quot;), }; × Search results Close "},"proxy_middleware_cache.js.html":{"id":"proxy_middleware_cache.js.html","title":"Source: proxy/middleware/cache.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: proxy/middleware/cache.js &quot;use strict&quot;; /** * Middleware to cache responses. * * @module */ var path = require(&quot;path&quot;); var _ = require(&quot;lodash&quot;); var cacheManager = require(&quot;cache-manager&quot;); var fsStore = require(&quot;cache-manager-fs&quot;); var rimraf = require(&quot;rimraf&quot;); var CONF = require(&quot;../../config&quot;); var logger = require(&quot;../../logger&quot;); if (CONF.cache.use) { if (!CONF.cache.useExisting) { rimraf.sync(path.resolve(process.cwd(), &quot;proxyCache&quot;)); }; var diskCache = cacheManager.caching( { store: fsStore, options: { ttl: CONF.cache.ttl, maxsize: CONF.cache.size, path: &quot;proxyCache&quot;, preventfill: !CONF.cache.useExisting } }); } else { var diskCache = null; }; /** * Middleware to cache server responses and reply them. * * @function * @this BaseProxy * @return {boolean} - `true` if response was retrieved from cache, `false` * otherwise. */ var cache = module.exports = async function () { if (!this.useCache) { return false; }; if (await fromCache(this.req, this.res)) { return true; } else { toCache(this.req, this.res); return false; }; }; /** * Patches http response to send response from cache, if it is there. * * @function * @arg {object} req - http(s) request * @arg {object} res - http(s) response * @return {Promise.&lt;boolean&gt;} - `true` if response is in cache and * was patched, otherwise `false` */ var fromCache = (req, res) =&gt; { return new Promise((resolve, reject) =&gt; { diskCache.get(_getReqKey(req), (err, result) =&gt; { if (err) reject(err); resolve(result); }); }).then(cached =&gt; { if (!cached) return false; logger.debug(&quot;&lt;&lt;&lt; from cache&quot;, _getReqKey(req)); var response = JSON.parse(cached); res.writeHead(response.code, response.headers); res.end(Buffer.from(response.data)); return true; }); }; /** * Patches http response to put response to cache. * * @function * @arg {object} req - http(s) request * @arg {object} res - http(s) response */ var toCache = (req, res) =&gt; { var statusCode = null, headers = {}; var resWrite = res.write; var resEnd = res.end; var resHead = res.writeHead; var resHeader = res.setHeader; var chunks = []; res.writeHead = function (statusCode_, statusMsg_, headers_) { statusCode = statusCode_; if (typeof(headers_) === &quot;object&quot;) _.assign(headers, headers_); else if (typeof(statusMsg_) === &quot;object&quot;) _.assign(headers, statusMsg_); resHead.apply(this, arguments); }; res.setHeader = function(name, value) { headers[name] = value; resHeader.apply(this, arguments); }; res.write = function (chunk) { if (chunk instanceof Buffer) chunks.push(chunk); resWrite.apply(this, arguments); }; res.end = function (chunk) { if (chunk instanceof Buffer) chunks.push(chunk); var resData = JSON.stringify({ data: Buffer.concat(chunks).toJSON(), code: statusCode, headers: headers }); logger.debug(&quot;&gt;&gt;&gt; to cache&quot;, _getReqKey(req)); diskCache.set(_getReqKey(req), resData); resEnd.apply(this, arguments); }; }; /** * Helper to generate request key for storage. * * @function * @ignore * @arg {Request} req - Client request. * @return {string} - Request key according to its method, host, url. */ var _getReqKey = req =&gt; req.method + &quot;_&quot; + req.headers.host + req.url; × Search results Close "},"proxy_middleware_index.js.html":{"id":"proxy_middleware_index.js.html","title":"Source: proxy/middleware/index.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: proxy/middleware/index.js &quot;use strict&quot;; /** * Proxy middleware package. * * @module */ module.exports = [ require(&quot;./speed&quot;), require(&quot;./info&quot;), require(&quot;./cache&quot;), ]; × Search results Close "},"proxy_middleware_info.js.html":{"id":"proxy_middleware_info.js.html","title":"Source: proxy/middleware/info.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: proxy/middleware/info.js &quot;use strict&quot;; /** * Contains proxy middlewares * * @module */ var _ = require(&quot;lodash&quot;); var CONF = require(&quot;../../config&quot;); var logger = require(&quot;../../logger&quot;); /** * Middleware to gather information about requests and responses. * * @function */ var info = module.exports = function () { if (!this.responsesData) return false; var data = { name: req.headers.host + req.url, encoding: req.headers[&quot;content-encoding&quot;] || &quot;identity&quot;, size: 0, chunkSizes: [] }; this.responsesData.push(data); var resWrite = this.res.write; var resEnd = this.res.end; var addData = chunk =&gt; { if (!chunk) return; data.chunkSizes.push(chunk.length); data.size += chunk.length; }; this.res.write = function (chunk) { addData(chunk); resWrite.apply(this, arguments); }; this.res.end = function (chunk) { addData(chunk); resEnd.apply(this, arguments); }; return false; }; × Search results Close "},"proxy_middleware_speed.js.html":{"id":"proxy_middleware_speed.js.html","title":"Source: proxy/middleware/speed.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: proxy/middleware/speed.js &quot;use strict&quot;; /** * Middleware to manage responses speed. * * @module */ /** * Middleware to change responses speed. * * @function * @arg {object} res - http(s) response * @arg {number} speed - limited speed value, kb/s */ module.exports.changeResponsesSpeed = function () { if (!this.speed) return; var timer = 1; var size = Math.ceil(this.speed / 8); var prms = Promise.resolve(); var resWrite = this.res.write; var resEnd = this.res.end; var promisify = args =&gt; { var chunk = args[0]; if (!chunk) return; for (var i = 0; i &lt; chunk.length; i += size) { prms = prms.then((idx =&gt; () =&gt; { return new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { args[0] = chunk.slice(idx, idx + size); resWrite.apply(res, args); resolve(); }, timer); }); })(i)); }; }; this.res.write = function () { promisify(Array.from(arguments)); }; this.res.end = function () { var args = Array.from(arguments); promisify(args); prms.then(() =&gt; { args[0] = null; resEnd.apply(res, args); }); }; return false; }; × Search results Close "},"proxy_proxy.js.html":{"id":"proxy_proxy.js.html","title":"Source: proxy/proxy.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: proxy/proxy.js &quot;use strict&quot;; /** * Web Proxy classes and functions. * * @module */ var os = require(&quot;os&quot;); var http = require(&quot;http&quot;); var https = require(&quot;https&quot;); var url = require(&quot;url&quot;); var util = require(&quot;util&quot;); var _ = require(&quot;lodash&quot;); var expect = require(&quot;chai&quot;).expect; var express = require(&quot;express&quot;); var httpProxy = require(&quot;http-proxy&quot;); var CONF = require(&quot;../config&quot;); var U = require(&quot;../utils&quot;); var BaseProxy = require(&quot;./base&quot;); /** * Web Proxy. * * @class * @arg {object} opts - Proxy options. * @arg {string} opts.url - URL which should be proxied. * them from cache. */ var WebProxy = module.exports.WebProxy = function (opts) { BaseProxy.call(this, opts); this._url = opts.url; this._server = null; var parsedUrl = url.parse(this._url); expect([&quot;http:&quot;, &quot;https:&quot;], &quot;Unsupported protocol&quot;).include(parsedUrl.protocol); if (parsedUrl.protocol === &quot;https:&quot;) { this._proxy = httpProxy.createProxyServer({ target: &quot;https://&quot; + parsedUrl.host, agent: https.globalAgent, headers: { host: parsedUrl.hostname }, proxyTimeout: this._timeout, }); } else { this._proxy = httpProxy.createProxyServer({ target: { host: parsedUrl.hostname, port: parsedUrl.port, }, proxyTimeout: this._timeout, }); }; this._proxyUrl = `http://${os.hostname()}:${this._port}`; var app = express(); app.use(async (req, res) =&gt; { this.req = req; this.res = res; for (var mw of middleware) if (await mw.call(this)) return; delete this.req; delete this.res; this._proxy.web(req, res); }); this._server = http.createServer(app); }; util.inherits(WebProxy, BaseProxy); /** * Starts proxy server if it’s not started yet. * * @method */ WebProxy.prototype.start = function () { if (this.isRunning) return; this._server.listen(this._port); this.isRunning = true; }; /** * Stops proxy server if it’s not stopped yet. * * @method */ WebProxy.prototype.stop = function () { if (!this.isRunning) return; this._server.close(); this._proxy.close(); this.isRunning = false; }; × Search results Close "},"reporter_base.js.html":{"id":"reporter_base.js.html","title":"Source: reporter/base.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: reporter/base.js &quot;use strict&quot;; /** * Common reporter. * * @module */ var _ = require(&quot;lodash&quot;); var fs = require(&quot;fs&quot;); var path = require(&quot;path&quot;); var util = require(&quot;util&quot;); var MochaReporter = require(&quot;mocha&quot;).reporters.base; var CONF = require(&quot;../config&quot;); var logger = require(&quot;../logger&quot;); /** * Registered reporters. * * @type {object[]} */ var reporters = []; /** * `GlaceJS` common reporter. * * @class * @arg {object} runner - `MochaJS` runner. */ var BaseReporter = module.exports = function (runner) { MochaReporter.call(this, runner); runner.on(&quot;start&quot;, () =&gt; { for (var reporter of reporters) { if (reporter.start) reporter.start(); }; }); runner.on(&quot;end&quot;, () =&gt; { for (var reporter of reporters) { if (reporter.end) reporter.end(); }; }); runner.on(&quot;suite&quot;, mochaSuite =&gt; { var isTest = _isSuiteTest(mochaSuite); for (var reporter of reporters) { if (isTest) { if (reporter.test) reporter.test(mochaSuite); } else { if (reporter.scope) reporter.scope(mochaSuite); }; }; }); runner.on(&quot;suite end&quot;, mochaSuite =&gt; { var isTest = _isSuiteTest(mochaSuite); for (var reporter of reporters) { if (isTest) { if (reporter.testEnd) reporter.testEnd(mochaSuite); } else { if (reporter.scopeEnd) reporter.scopeEnd(mochaSuite); }; }; }); runner.on(&quot;test&quot;, mochaTest =&gt; { for (var reporter of reporters) { if (reporter.chunk) reporter.chunk(mochaTest); }; }); runner.on(&quot;test end&quot;, mochaTest =&gt; { for (var reporter of reporters) { if (reporter.chunkEnd) reporter.chunkEnd(mochaTest); }; }); runner.on(&quot;hook&quot;, mochaHook =&gt; { for (var reporter of reporters) { if (reporter.hook) reporter.hook(mochaHook); }; }); runner.on(&quot;hook end&quot;, mochaHook =&gt; { for (var reporter of reporters) { if (reporter.hookEnd) reporter.hookEnd(mochaHook); }; }); runner.on(&quot;pass&quot;, mochaTest =&gt; { for (var reporter of reporters) { if (reporter.pass) reporter.pass(mochaTest); }; }); runner.on(&quot;fail&quot;, (mochaTest, err) =&gt; { if (CONF.curTestCase) { CONF.curTestCase.addError(mochaTest.title + &quot;\\n&quot; + err.message + &quot;\\n&quot; + err.stack); CONF.curTestCase.addFailedParams( _.clone(CONF.curTestCase.testParams)); }; for (var reporter of reporters) { if (reporter.fail) reporter.fail(mochaTest, err); }; }); runner.on(&quot;pending&quot;, mochaTest =&gt; { for (var reporter of reporters) { if (reporter.pending) reporter.pending(mochaTest); }; }); }; /** * Inherits base mocha reporter. */ util.inherits(BaseReporter, MochaReporter); /** * Finilizes reporting. * * @function * @async * @arg {*[]} failures - Tests failures. * @arg {function} fn - Finalizator. */ BaseReporter.prototype.done = function (failures, fn) { var prms = Promise.resolve(); for (var reporter of reporters) { if (reporter.done) { prms = prms .then(() =&gt; reporter.done()) .catch(e =&gt; logger.error(e)); }; }; prms.then(() =&gt; fn(failures)); }; /** * Registers reporters if they are not. * * @method * @static * @arg {...object} reporters - Sequence of reporters to register. */ BaseReporter.register = function () { for (var reporter of arguments) { if (!reporters.includes(reporter)) { reporters.push(reporter); }; }; }; /** * Removes reporters if they are registered. * * @method * @static * @arg {...object} reporters - Sequence of reporters to remove. */ BaseReporter.remove = function () { reporters = _.without.apply(_, reporters, arguments); }; /** * Helper to define whether `MochaJS` suite is `GlaceJS` test or no. * * It iterates among registered tests and check if suite name matches name * someone of tests. It is not possible to use `CONF.curTestCase` to compare * because `CONF.curTestCase` is assigned after event `suite`. * * @function * @ignore * @arg {object} mochaSuite - `MochaJS` suite. * @return {boolean} - `true` if `MochaJS` suite is `GlaceJS` test, `false` * otherwise. */ var _isSuiteTest = mochaSuite =&gt; { for (var testCase of CONF.testCases) { if (mochaSuite.title === testCase.name) { return true; }; }; return false; }; × Search results Close "},"reporter_index.js.html":{"id":"reporter_index.js.html","title":"Source: reporter/index.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: reporter/index.js &quot;use strict&quot;; /** * GlaceJS reporter package. * * @module */ var CONF = require(&quot;../config&quot;); var base = require(&quot;./base&quot;); var stdout = require(&quot;./stdout&quot;); var testrail = require(&quot;./testrail&quot;); base.register(stdout); if (CONF.toTestrail) base.register(testrail); module.exports = base; × Search results Close "},"reporter_stdout.js.html":{"id":"reporter_stdout.js.html","title":"Source: reporter/stdout.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: reporter/stdout.js &quot;use strict&quot;; /** * `GlaceJS` stdout reporter. * * @module */ var fs = require(&quot;fs&quot;); var path = require(&quot;path&quot;); var util = require(&quot;util&quot;); var colors = require(&quot;colors&quot;); var MochaReporter = require(&quot;mocha&quot;).reporters.base; var TestCase = require(&quot;../testing&quot;).TestCase; var sessionErrors = []; var indents = 0; var indent = () =&gt; Array(indents).join(&quot; &quot;); var origConsoleLog; var patchConsoleLog = () =&gt; { var reportLog = fs.createWriteStream( path.resolve(process.cwd(), &quot;reporter.log&quot;), { flags : &quot;w&quot; }); origConsoleLog = console.log; console.log = function() { reportLog.write(util.format.apply(null, arguments) + &quot;\\n&quot;); origConsoleLog.apply(this, arguments); }; }; var restoreConsoleLog = () =&gt; { if (origConsoleLog) console.log = origConsoleLog; }; var epilogue = () =&gt; { var indent = &quot; &quot;; var passedTests = []; var failedTests = []; for (var testCase of CONF.testCases) { if (testCase.status === TestCase.FAILED) { failedTests.push(testCase); }; if (testCase.status === TestCase.PASSED) { passedTests.push(testCase); }; }; if (passedTests.length !== 0) { var msg = &quot;passed test&quot; + (passedTests.length === 1 ? &quot;&quot; : &quot;s&quot;); console.log((indent + MochaReporter.symbols.ok + &quot; &quot; + String(passedTests.length).bold + &quot; &quot; + msg).green); }; if (failedTests.length !== 0) { var msg = &quot;failed test&quot; + (failedTests.length === 1 ? &quot;&quot; : &quot;s&quot;); console.log((indent + MochaReporter.symbols.err + &quot; &quot; + String(failedTests.length).bold + &quot; &quot; + msg).red); }; if (failedTests.length) { console.log(); console.log(&quot;TEST FAILURES:&quot;.bold) for (var testCase of failedTests) { console.log(); console.log((&quot;test: &quot; + testCase.name).blue.bold); for(var err of testCase.errors) { console.log(); console.log(err.red.bold); }; }; }; if (sessionErrors.length) { console.log(); console.log(&quot;OUTTEST FAILURES:&quot;.bold); for (var error of sessionErrors) { console.log(); console.log(error.red.bold); }; }; }; var stdoutReporter = module.exports = { /** * Called on tests start. * * @method * @instance */ start: () =&gt; { patchConsoleLog(); }, /** * Called before tests end. * * @method * @instance */ end: () =&gt; { epilogue(); console.log(); var reportMsg = &quot;Tests report is &quot; + CONF.reportsDir; console.log(Array(reportMsg.length + 1).join(&quot;-&quot;).yellow); console.log(reportMsg.yellow); restoreConsoleLog(); }, /** * Called on scope start. * * @method * @instance * @arg {object} scope - `MochaJS` suite. */ scope: scope =&gt; { ++indents; if (indents !== 1) { console.log(); console.log((indent() + &quot;scope: &quot; + scope.title).blue); }; }, /** * Called before scope end. * * @method * @instance * @arg {object} scope - `MochaJS` suite. */ scopeEnd: scope =&gt; { --indents; if (indents === 1) console.log(); }, /** * Called on test start. * * @method * @instance * @arg {object} test - `MochaJS` suite. */ test: test =&gt; { ++indents; console.log(); console.log((indent() + &quot;test: &quot; + test.title).blue.bold); }, /** * Called on test end. * * @method * @instance * @arg {object} test - `MochaJS` suite. */ testEnd: test =&gt; { --indents; if (indents === 1) console.log(); }, /** * Called on chunk passed. * * @method * @instance * @arg {object} chunk - `MochaJS` test. */ pass: chunk =&gt; { console.log((indent() + &quot; &quot; + MochaReporter.symbols.ok + &quot; &quot; + &quot;chunk: &quot; + chunk.title).green); }, /** * Called on chunk or hook failed. * * @method * @instance * @arg {object} chunk - `MochaJS` test. */ fail: (chunk, err) =&gt; { if (!CONF.curTestCase) { sessionErrors.push(chunk.title + &quot;\\n&quot; + err.message + &quot;\\n&quot; + err.stack); }; console.log((indent() + &quot; &quot; + MochaReporter.symbols.err + &quot; &quot; + &quot;chunk: &quot; + chunk.title).red); }, }; × Search results Close "},"reporter_testrail.js.html":{"id":"reporter_testrail.js.html","title":"Source: reporter/testrail.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: reporter/testrail.js &quot;use strict&quot;; /** * `GlaceJS` TestRail reporter. * * @module */ var colors = require(&quot;colors&quot;); var ConfigError = require(&quot;../error&quot;).ConfigError; var TestCase = require(&quot;../testing&quot;).TestCase; var Results = { PASSED: 1, BLOCKED: 2, UNTESTED: 3, RETEST: 4, FAILED: 5 }; var cases = {}; var runId = null; var publishing = Promise.resolve(); var testrailReporter = module.exports = { /** * Called on tests start. * * @method * @instance */ start: () =&gt; { testrail = new Testrail({ host: CONF.testrail.host, user: CONF.testrail.user, password: CONF.testrail.token }); testrail.addRun( CONF.testrail.projectId, { suite_id: CONF.testrail.suiteId, name: CONF.testrail.suiteName, description: CONF.testrail.description }, (err, run) =&gt; { if (err) { console.log(err); process.exit(1); }; runId = run.id; }); testrail.getCases( CONF.testrail.projectId, { suite_id: CONF.testrail.suiteId }, (err, _cases) =&gt; { if (err) { console.log(err); process.exit(1); }; for (var _case of _cases) { if (cases[_case.title]) { console.log(`Detect duplicated cases with name \\ '${_case.title}'. Only unique names \\ should be.`); process.exit(1); }; cases[_case.title] = { id: _case.id }; }; }); }, /** * Called before tests end. * * @method * @instance */ end: () =&gt; { console.log(); var reportMsg = &quot;Tests report is &quot; + CONF.testRail.reportUrl + runId; console.log(Array(reportMsg.length + 1).join(&quot;-&quot;).yellow); console.log(reportMsg.yellow); }, /** * Called on test end. * * @method * @instance * @arg {object} test - `MochaJS` suite. */ testEnd: test =&gt; { var testCase = CONF.testCases.filter(t =&gt; t.name === test.title)[0]; var testrailCase = cases[test.title]; if (!testrailCase) return; var testResult = { status_id: Results.PASSED, comment: &quot;&quot; }; if (testCase.screenshots.length) { testResult += &quot;\\n&quot;; for (var screen of testCase.screenshots) { testResult.comment += &quot;\\n&quot; + screen; }; }; if (testCase.videos.length) { testResult += &quot;\\n&quot;; for (var video of testCase.videos) { testResult.comment += &quot;\\n&quot; + video; }; }; if (testCase.status === TestCase.FAILED) { testResult.status_id = Results.FAILED; testResult += &quot;\\n&quot;; for (var error of testCase.errors) { testResult += &quot;\\n&quot; + error; }; }; publishing = publishing.then(() =&gt; { return new Promise((resolve, reject) =&gt; { testrail.addResultForCase(runId, testrailCaseId, testResult, (err, res) =&gt; { if (err) reject(err); resolve(res); }); }); }); }, /** * Called on report finalizing. * * @method * @instance */ done: () =&gt; { return publishing; }, }; × Search results Close "},"runner.js.html":{"id":"runner.js.html","title":"Source: runner.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: runner.js &quot;use strict&quot;; /** * Makes tests root session. * * - runner loads root `conftest.js` if it is located on one level with * `CONF.testsDir`; * - if `CONF.testsDir` is file with tests, runner loads and executes it; * - if `CONF.testsDir` is folder runner loads files inside recursive if * file name starts with `test` and ends with `.js`; * - inside each subfolder of `CONF.testsDir` runner loads `conftest.js` * file if it is present; * * @module */ var fs = require(&quot;fs&quot;); var path = require(&quot;path&quot;) require(&quot;./globals&quot;); session(() =&gt; { var rootConftest = path.resolve(path.dirname(CONF.testsDir), &quot;conftest.js&quot;); if (fs.existsSync(rootConftest)) require(rootConftest); if (!fs.statSync(CONF.testsDir).isDirectory()) { require(CONF.testsDir); return; }; var loadTests = testsDir =&gt; { for (var fileName of fs.readdirSync(testsDir)) { var filePath = path.resolve(testsDir, fileName); if (fileName === &quot;conftest.js&quot;) require(filePath); if (fileName.startsWith(&quot;test&quot;) &amp;&amp; fileName.endsWith(&quot;.js&quot;)) { require(filePath); }; if (fs.lstatSync(filePath).isDirectory()) { loadTests(filePath); }; }; }; loadTests(CONF.testsDir); }); × Search results Close "},"steps_image.js.html":{"id":"steps_image.js.html","title":"Source: steps/image.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: steps/image.js &quot;use strict&quot;; /** * Steps for screenshots and images. * * @module */ var uuid = require(&quot;uuid/v4&quot;); var image = require(&quot;../image&quot;); var U = require(&quot;../utils&quot;); /** * Steps to manage web screenshots and images. * * @mixin */ module.exports = { /** * Step to make web screenshot in browser. * * @method * @instance * @async * @this Steps * @arg {object} [opts] - Step options. * @arg {string} [opts.imageName] - Screenshot name. File extension * `.png` will be added automatically. Default value is dynamically * generated on each call with algorithm `uuid`. * @arg {boolean} [opts.bySelenium=true] - Flag to use selenium to make * screenshot. Other library `html2canvas` will be used. * @arg {?function} [opts.preHook=null] - Function which will be called * in `Steps` context in the beginning of step. * @arg {?function} [opts.postHook=null] - Function which will be called * in `Steps` context at the end of step. * @arg {?string} [opts.element=null] - Web element which should be * screenshotted. * @arg {boolean} [opts.check=true] - Flag to check screenshot is saved * or no. * @throws {AssertionError} - If screenshot isn't saved. * @return {string} - Path to saved screenshot. */ makeScreenshot: async function (opts) { opts = U.defVal(opts, {}); var imageName = U.defVal(opts.imageName, uuid()) + &quot;.png&quot;; var bySelenium = U.defVal(opts.bySelenium, true); var preHook = U.defVal(opts.preHook); var postHook = U.defVal(opts.postHook); var element = U.defVal(opts.element); var check = U.defVal(opts.check, true); var imagePath = path.resolve(CONF.reportsDir, CONF.curTestCase.name, &quot;screenshots&quot;, imageName); if (preHook) await preHook.call(this); if (bySelenium) { await this._seleniumScreenshot(imagePath); } else { await this._canvasScreenshot(imagePath); }; if (element) { await this._cutElement(imagePath, element, { path: imagePath }); }; if (check) { expect(fs.existsSync(imagePath), `Screenshot isn't saved to ${imagePath}`).be.true; }; if (postHook) await postHook.call(this); CONF.curTestCase.addScreenshot(imagePath); return imagePath; }, /** * Step to check two image are equal or not equal * * @method * @protected * @instance * @async * @this Steps * @arg {string} actualImage - Path to actual image. * @arg {string} expectedImage - Path to expected image. * @arg {object} [opts] - Helper options. * @arg {number} [opts.threshold=0.05] - Threshold of divergence. * @arg {boolean} [opts.shouldBe=true] - Flag to check whether * image are equal or not equal. * @arg {string[]} [opts.elements=[]] - List of elements on image which * should be verified. * @throws {AssertionError} - If result of images comparison don't pass * requested parameters. */ checkImagesEquivalence: async function (actualImage, expectedImage, opts) { opts = U.defVal(opts, {}); var elements = U.defVal(opts.elements, []); await this._checkImagesEquivalence(actualImage, expectedImage, opts); for (var element of elements) { var actualElImage = await this._cutElement( actualImage, element, { name: `actual ${element}` }); var expectedElImage = await this._cutElement( expectedImage, element, { name: `expected ${element}` }); await this._checkImagesEquivalence( actualElImage, expectedElImage, opts); }; }, /** * Step to check one image includes or doesn't inclue another image. * * @method * @protected * @instance * @async * @this Steps * @arg {string} actualImage - Path to actual image. * @arg {string} expectedImage - Path to image which may include * actual image. * @arg {object} [opts] - Step options. * @arg {number} [opts.threshold=0.05] - Threshold of divergence. * @arg {boolean} [opts.shouldBe=true] - Flag to check whether * image are equal or not equal. */ checkImagesInclusion: async function (actualImage, originalImage, opts) { opts = U.defVal(opts, {}); var threshold = U.defVal(opts.threshold, 0.05); var shouldBe = U.defVal(opts.shouldBe, true); var matchedImagePath = U.mkpath(CONF.reportsDir, CONF.curTestCase.name, &quot;screenshots&quot;, &quot;inclusions&quot;, uuid() + &quot;.png&quot;); var errMsg = &quot;Screenshot &quot; + screenPath + &quot; doesn't contain image &quot; + imagePath; var result = await image(screenPath) .includes(imagePath, { tolerance: threshold, matchedPath: matchedImagePath }); if (shouldBe) { expect(result.isIncluded, `Image ${originalImage} doesn't include ${actualImage}`) .be.true; } else { expect(result.isIncluded, `Image ${originalImage} includes image ${actualImage}`) .be.false; }; }, /** * Step to check or make web screenshot in browser. * * @method * @instance * @async * @this Steps * @arg {object} [opts] - Step options. * @arg {string} [opts.imageName] - Screenshot name. File extension * `.png` will be added automatically. Default value is dynamically * generated on each call with algorithm `uuid`. * @arg {boolean} [opts.bySelenium=true] - Flag to use selenium to make * screenshot. Other library `html2canvas` will be used. * @arg {?function} [opts.preHook=null] - Function which will be called * in `Steps` context in the beginning of step. * @arg {?function} [opts.postHook=null] - Function which will be called * in `Steps` context at the end of step. * @arg {string[]} [opts.elements=[]] - List of elements on image which * should be verified. * @arg {boolean} [opts.check=true] - Flag to check screenshot is saved * or no. * @throws {AssertionError} - If screenshot isn't saved. */ checkOrMakeScreenshot: async function (imageName, opts) { opts = U.defVal(opts, {}); opts.imageName = imageName; var actualImage = await this.makeScreenshot(opts); if (CONF.compareImages) { var expectedImage = path.resolve(CONF.resourcesDir, CONF.curTestCase.name, &quot;screenshots&quot;, imageName + &quot;.png&quot;); await this.checkImagesEquivalence( actualImage, expectedImage, opts); }; }, /** * Helper to check two images are equal or not equal. * * @method * @protected * @instance * @async * @this Steps * @arg {string} actualImage - Path to actual image. * @arg {string} expectedImage - Path to expected image. * @arg {object} [opts] - Helper options. * @arg {number} [opts.threshold=0.05] - Threshold of divergence. * @arg {boolean} [opts.shouldBe=true] - Flag to check whether * image are equal or not equal. * @throws {AssertionError} - If result of images comparison don't pass * requested parameters. */ _checkImagesEquivalence: async function (actualImage, expectedImage, opts) { opts = U.defVal(opts, {}); var threshold = U.defVal(opts.threshold, 0.05); var shouldBe = U.defVal(opts.shouldBe, true); var percentage = (await new Promise((resolve, reject) =&gt; { imageDiff.getFullResult({ actualImage: actualImage, expectedImage: expectedImage, diffImage: diffImage }, function(err, result) { if (err) reject(err); resolve(result); }); })).percentage; if (shouldBe) { expect(result.percentage, &quot;Images are not equal&quot;).be.lte(threshold); } else { expect(result.percentage, &quot;Images are equal&quot;).be.gte(threshold); }; }, /** * Helper to make screenshot with selenium. * * @method * @protected * @instance * @async * @this Steps * @arg {string} imagePath - Path to screenshot which will be saved, */ _seleniumScreenshot: async function (imagePath) { await this._driver.saveScreenshot(imagePath); }, /** * Helper to make screenshot with html2canvas. * * @method * @protected * @instance * @async * @this Step * @arg {string} imagePath - Path to screenshot which will be saved. * @arg {object} [opts] - Helper options. * @arg {?string} [opts.cssSelector=null] - CSS selector of DOM element * which of screenshot should be made. * @arg {number} [opts.timeout=30000] - Time to wait for screenshot is * rendered, ms * @throws {Error} - If screenshot will not be rendered during timeout. */ _canvasScreenshot: async function (imagePath, opts) { opts = U.defVal(opts); var cssSelector = U.defVal(opts.cssSelector); var timeout = U.defVal(opts.timeout, 30000); var errMsg = &quot;Can't make screenshot&quot;; if (cssSelector) errMsg += &quot; of element with selector &quot; + selector; await this._driver.execute(function (cssSelector) { function makeScreenshot () { if (cssSelector) { var element = document.querySelector(cssSelector); } else { var element = document.body; }; html2canvas( element, { onrendered: function(canvas) { window.__screenshot = canvas .toDataURL() .split(&quot;data:image/png;base64,&quot;)[1]; }, useCORS: true // capture images from another domains }); }; if (html2canvas) { makeScreenshot(); return; }; var script = document.createElement(&quot;script&quot;); script.onload = makeScreenshot; script.src = &quot;https://cdnjs.cloudflare.com&quot; + &quot;/ajax/libs/html2canvas/&quot; + &quot;0.5.0-beta4/html2canvas.min.js&quot;; document.body.appendChild(script); }, cssSelector); var screenBase64 = await this._webdriver.waitUntil(async () =&gt; { return (await this._webdriver.execute(function () { if (window.__screenshot) { var result = window.__screenshot; delete window.__screenshot; return result; } else { return false; }; })).value; }, timeout, errMsg); fs.writeFileSync(imagePath, screenBase64, &quot;base64&quot;); }, /** * Helper to cut element from image. * * @method * @protected * @instance * @async * @this Steps * @arg {string} imagePath - Path to image which element will be cut from. * @arg {string} elementName - Name of element which will be cut. * @arg {object} [opts] - Helper options. * @arg {string} [opts.name] - Name of cut image with element. * @arg {string} [opts.path] - Path to cut image with element. * @throws {AssertionError} - If original image doesn't exist. * @throws {AssertionError} - If DOM element is not registered in config. * @throws {AssertionError} - If cut image is not saved. */ _cutElement: async function (imagePath, elementName, opts) { expect(fs.existsSync(imagePath), `Image ${imagePath} doesn't exist`).be.true; var element = (await this.getCurrentPage())[elementName]; expect(element, `Undefined DOM element ${elementName}`).not.be.undefined; opts = U.defVal(opts, {}); var targetName = U.defVal(opts.name, uuid()) + &quot;.png&quot;; var targetPath = U.defVal(opts.path, U.mkpath(CONF.reportsDir, CONF.testCase.name, &quot;screenshots&quot;, &quot;cutElements&quot;, targetName)); var imageInfo = await new Promise((resolve, reject) =&gt; { sharp(imagePath).toBuffer((err, outputBuffer, info) =&gt; { if (err) reject(err); resolve(info); }); }); var eLoc = await element.location(); if (eLoc.x &lt; 0) eLoc.x = 0; if (eLoc.y &lt; 0) eLoc.y = 0; if ((eLoc.x + eLoc.width) &gt; imageInfo.width) { eLoc.width = imageInfo.width - eLoc.x; }; if ((eLoc.y + eLoc.height) &gt; imageInfo.height) { eLoc.height = imageInfo.height - eLoc.y; }; if (imagePath === targetPath) { fs.renameSync(imagePath, imagePath + &quot;.tmp&quot;); imagePath += &quot;.tmp&quot;; }; await new Promise((resolve, reject) =&gt; { sharp(imagePath) .extract({ left: eLoc.x, top: eLoc.y, width: eLoc.width, height: eLoc.height }) .crop(sharp.strategy.entropy) .toFile(targetPath, err =&gt; { if (err) reject(err); resolve(); }); }); expect(fs.existsSync(targetPath, `Image ${targetPath} isn't saved`)).be.true; if (imagePath.endswith(&quot;.tmp&quot;)) fs.unlinkSync(imagePath); return targetPath; }, }; × Search results Close "},"steps_index.js.html":{"id":"steps_index.js.html","title":"Source: steps/index.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: steps/index.js &quot;use strict&quot;; /** * Steps namespace. * * @module */ var _ = require(&quot;lodash&quot;); var CONF = require(&quot;../config&quot;); var U = require(&quot;../utils&quot;); var logger = require(&quot;../logger&quot;); /** * Steps collection which will be executed in test cases. * * @class */ var Steps = module.exports = function () { this._appUrl = CONF.appUrl; this._webdriver = null; }; /** * Sets webdriver. * * It's used for web ui test cases. * * @method * @arg {object} webdriver - Instance of webdriver. */ Steps.prototype.setWebdriver = function (webdriver) { this._webdriver = webdriver; }; /** * Step to make pause in another step or test case. Good style to rid of * its direct usage in test case, only inside other step. * * @async * @arg {number} timeout - Pause time, ms. * @arg {string} message - Pause reason. */ Steps.prototype.pause = async function (timeout, message) { expect(message, &quot;Pause message is not defined&quot;).to.not.be.undefined; logger.stepDebug(&quot;Sleep&quot;, timeout, &quot;ms, reason:&quot;, message); await U.sleep(timeout); }; /** * Registers sequence of objects containing steps. * * @static * @method */ Steps.register = function () { for (var obj of arguments) { _.assign(Steps.prototype, obj); }; }; if (CONF.isWeb) Steps.register(require(&quot;./image&quot;), require(&quot;./proxy&quot;), require(&quot;./video&quot;), require(&quot;./web&quot;)); if (CONF.useXvfb) Steps.register(require(&quot;./xvfb&quot;)); × Search results Close "},"steps_page.js.html":{"id":"steps_page.js.html","title":"Source: steps/page.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: steps/page.js &quot;use strict&quot;; /** * Steps for page. * * @module */ var StepError = require(&quot;../error&quot;).StepError; /** * Steps to manage page. * * @mixin */ module.exports = { /** * Helper to register pages. * * @method * @instance * @this Steps * @arg {...Page} pages - Sequence of pages. */ registerPage: function () { for (var page of arguments) { page.setDriver(this._webdriver); this._pages[page.name] = page; }; }, /** * Helper to remove pages. * * @method * @instance * @this Steps * @arg {...string} pageNames - Sequence of page names. */ removePage: function () { for (var pageName of arguments) { this._pages[pageName].setDriver(null); delete this._pages[pageName]; }; }, /** * Step to open page. * * @method * @instance * @this Steps * @arg {string} pageName - Name of page to open. */ openPage: function (pageName) { var page = this._pages[pageName]; page.open(this.appUrl); }, /** * Step to get current page. * * @method * @instance * @async * @this Steps * @return {Page} - Page which corresponds to current browser URL. * @throws {StepError} - If */ getCurrentPage: async function () { /* sort pages by descending page url length */ var pages = Object.values(this._pages).sort( (a, b) =&gt; a.url.length &lt; b.url.length); var curUrl = url.parse(await this._webdriver.getUrl()); for (var page of pages) { if (curUrl.pathname.startsWith(page.url)) return page; }; throw new StepError( &quot;No one of registered pages corresponds URL '${curUrl}'&quot;); }, }; × Search results Close "},"steps_proxy.js.html":{"id":"steps_proxy.js.html","title":"Source: steps/proxy.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: steps/proxy.js &quot;use strict&quot;; /** * Steps for proxy. * * @module */ var CONF = require(&quot;../config&quot;); var U = require(&quot;../utils&quot;); var GlobalProxy = require(&quot;../proxy&quot;).GlobalProxy; var WebProxy = require(&quot;../proxy&quot;).WebProxy; /** * Steps to manage proxy. * * @mixin */ module.exports = { /** * Step to start proxy. * * @method * @instance * @async * @this Steps * @arg {object} [opts] - Step to start proxy. * @arg {string} [opts.appUrl] - Web application url which will * be proxied. Default value will be requested from `config.appUrl` * if it is specified. * @arg {boolean} [opts.useCache] - Flag to use proxy cache for * responses. Default value will be requested from `config.useCache` * if it is specified. * @arg {number} [opts.timeout] - Proxy timeout to break connection. * Default value will be requested from `config.timeout.proxy`. * @arg {number} [opts.port] - Proxy port. Default value will be * requested from `config.proxyPort`. * @arg {boolean} [opts.check=true] - Flag to check that proxy is launched. * @throws {AssertionError} - If proxy is not launched. * @return {string} - Proxy url to web application. */ startProxy: async function (opts) { opts = U.defVal(opts, {}); var appUrl = U.defVal(opts.appUrl, CONF.appUrl); var useCache = U.defVal(opts.useCache, CONF.useCache); var timeout = U.defVal(opts.timeout, CONF.timeout.proxy); var port = U.defVal(opts.port, CONF.proxyPort); var check = U.defVal(opts.check, true); if (!this._proxy) { this._proxy = new WebProxy({ url: appUrl, useCache: useCache, timeout: timeout, port: port }); }; await this._proxy.start(); if (check) { expect(this._proxy.isRunning, &quot;Proxy is not launched&quot;).be.true; }; this._appUrl = this._proxy.proxyUrl; }, /** * Step to stop proxy. * * @method * @instance * @async * @this Steps * @arg {object} [opts] - Step options. * @arg {boolean} [opts.check=true] - Flag to check that proxy is * stopped. * @throws {AssertionError} - If proxy is still running. */ stopProxy: async function (opts) { opts = U.defVal(opts, {}); var check = U.defVal(opts.check, true); if (!this._proxy) return; await this._proxy.stop(); if (check) { expect(this._proxy.isRunning, &quot;Proxy is still running&quot;).be.false; }; }, /** * Step to start global proxy. * * @method * @instance * @async * @this Steps * @arg {object} [opts] - Step to start proxy. * @arg {boolean} [opts.useCache] - Flag to use proxy cache for * responses. Default value will be requested from `config.useCache` * if it is specified. * @arg {number} [opts.timeout] - Proxy timeout to break connection. * Default value will be requested from `config.timeout.proxy`. * @arg {number} [opts.port] - Proxy port. Default value will be * requested from `config.proxyPort`. * @arg {boolean} [opts.check=true] - Flag to check that proxy is launched. * @throws {AssertionError} - If global proxy is not launched. */ startGlobalProxy: async function (opts) { opts = U.defVal(opts, {}); var useCache = U.defVal(opts.useCache, CONF.useCache); var timeout = U.defVal(opts.timeout, CONF.timeout.proxy); var port = U.defVal(opts.port, CONF.globalProxyPort); var check = U.defVal(opts.check, true); if (!this._globalProxy) { this._globalProxy = new GlobalProxy({ useCache: useCache, timeout: timeout, port: port, installCertificate: CONF.installCertificate }); }; await this._globalProxy.start(); if (check) { expect(this._globalProxy.isRunning, &quot;Global proxy is not launched&quot;) .to.be.true; }; }, /** * Step to stop global proxy. * * @method * @instance * @async * @this Steps * @arg {object} [opts] - Step options. * @arg {boolean} [opts.check=true] - Flag to check that global * proxy is stopped. * @throws {AssertionError} - If global proxy is still running. */ stopGlobalProxy: async function (opts) { opts = U.defVal(opts, {}); var check = U.defVal(opts.check, true); if (!this._globalProxy) return; await this._globalProxy.stop(); if (check) { expect(this._globalProxy.isRunning, &quot;Global proxy is still running&quot;).be.false; }; }, /** * Step to limit proxy speed. * * @method * @instance * @this Steps * @arg {number} speed - Proxy limited speed, kb/s. * @arg {object} [opts] - Step options. * @arg {boolean} [opts.check=true] - Flat to check that proxy speed * is limited. * @throws {AssertionError} - If proxy speed is not limited. */ limitProxySpeed: function (speed, opts) { opts = U.defVal(opts, {}); var check = U.defVal(opts.check, true); this._checkProxy(); if (this._proxy) { this._proxy.setSpeed(speed); }; if (this._globalProxy) { this._globalProxy.setSpeed(speed); }; if (check) { if (this._proxy) { expect(this._proxy.speed, &quot;Proxy speed is not limited&quot;).be.equal(speed); }; if (this._globalProxy) { expect(this._globalProxy.speed, &quot;Global proxy speed is not limited&quot;).be.equal(speed); }; }; }, /** * Step to unlimit proxy speed. * * @method * @instance * @this Steps * @arg {object} [opts] - Step options. * @arg {boolean} [opts.check=true] - Flag to check that proxy speed * is unlimited. * @throws {AssertionError} - If proxy speed is still limited. */ unlimitProxySpeed: function (opts) { opts = U.defVal(opts, {}); var check = U.defVal(opts.check, true); this._checkProxy(); if (this._proxy) { this._proxy.resetSpeed(); }; if (this._globalProxy) { this._globalProxy.resetSpeed(); }; if (check) { if (this._proxy) { expect(this._proxy.speed, &quot;Proxy speed still has limited value&quot;).be.null; }; if (this._globalProxy) { expect(this._globalProxy.speed, &quot;Global proxy speed still has limited value&quot;).be.null; }; }; }, /** * Step to start responses measurement. * * @method * @instance * @this Steps * @arg {object} [opts] - Step options. * @arg {boolean} [opts.check=true] - Flag to check that responses * measurement is launched. * @throws {AssertionError} - If responses measurement is not launched. */ measureResponses: function (opts) { opts = U.defVal(opts, {}); var check = U.defVal(opts.check, true); this._checkProxy(); if (this._proxy) { this._proxy.measureResponses(); }; if (this._globalProxy) { this._globalProxy.measureResponses(); }; if (check) { if (this._proxy) { expect(this._proxy.getResponsesData(), &quot;Proxy responses measurement is not launched&quot;) .not.be.null; }; if (this._globalProxy) { expect(this._globalProxy.getResponsesData(), &quot;Global proxy responses measurement is not launched&quot;) .not.be.null; }; }; }, /** * Step to get measured responses data. * * @method * @instance * @this Steps * @arg {object} [opts] - Step options. * @arg {boolean} [opts.check=true] - Flag to check that responses * data are present. * @throws {AssertionError} - If responses data are absent. */ getResponsesData: function (opts) { opts = U.defVal(opts, {}); var check = U.defVal(opts.check, true); this._checkProxy(); var data = []; if (this._proxy &amp;&amp; this._proxy.getResponsesData()) { data = data.concat(this._proxy.getResponsesData()); }; if (this._globalProxy &amp;&amp; this._globalProxy.getResponsesData()) { data = data.concat(this._globalProxy.getResponsesData()); }; if (check) { expect(_.isEmpty(data), &quot;Responses data are absent&quot;).be.false; }; return data; }, /** * Step to stop responses measurement. * * @method * @instance * @this Steps * @arg {object} [opts] - Step options. * @arg {boolean} [opts.check=true] - Flag to check that responses * measurement is stopped. * @throws {AssertionError} - If responses measurement is still running. */ unmeasureResponses: function (opts) { opts = U.defVal(opts, {}); var check = U.defVal(opts.check, true); this._checkProxy(); if (this._proxy) { this._proxy.unmeasureResponses(); }; if (this._globalProxy) { this._globalProxy.unmeasureResponses(); }; if (check) { if (this._proxy) { expect(this._proxy.getResponsesData(), &quot;Proxy responses measurement is still running&quot;) .to.be.null; }; if (this._globalProxy) { expect(this._globalProxy.getResponsesData(), &quot;Global proxy responses measurement is still running&quot;) .to.be.null; }; }; }, /** * Helper to check that proxy is launched. * * @method * @protected * @instance * @this Steps * @throws {AssertionError} - If no proxy is launched. */ _checkProxy: function () { expect(this._proxy || this._globalProxy, &quot;No proxy is launched&quot;).to.not.be.undefined; }, }; × Search results Close "},"steps_video.js.html":{"id":"steps_video.js.html","title":"Source: steps/video.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: steps/video.js &quot;use strict&quot;; /** * Steps for video recording. * * @module */ var uuid = require(&quot;uuid/v4&quot;); var U = require(&quot;../utils&quot;); var VideoRecorder = require(&quot;../video&quot;); /** * Steps to manage video recording. * * @mixin */ module.exports = { /** * Step to start video recording. * * @method * @instance * @async * @this Steps * @arg {object} [opts] - Step options. * @arg {string} [opts.name] - File name. Extension `.mpg` will be * added automatically. By default name will be generated with `uuid` * algorithm. * @arg {boolean} [opts.check=true] - Flag to check that video recording * is launched. * @throws {AssertionError} - If video recording isn't launched. */ startVideo: async function (opts) { opts = U.defVal(opts, {}); var fileName = U.defVal(opts.name, uuid()) + &quot;.mpg&quot;; var check = U.defVal(opts.check, true); if (!this._video) this._video = new VideoRecorder(); var opts = {}; _.assign(opts, (await this._driver.windowHandlePosition()).value); _.assign(opts, (await this._driver.windowHandleSize()).value); opts.path = U.mkpath(CONF.reportsDir, CONF.testCase.name, &quot;videos&quot;, fileName); this._video.configure(opts); this._video.start(); await this.pause(1000, &quot;it needs a time to start recording&quot;); if (check) { expect(this._video.isRunning, &quot;Video recording isn't launched&quot;) .to.be.true; }; }, /** * Step to stop video recording. * * @method * @instance * @async * @this Steps * @arg {object} [opts] - step options * @arg {boolean} [opts.check=true] - Flag to check that video recording * is stopped. * @throws {Error} if video recording isn't stoped */ stopVideo: async function (opts) { opts = U.defVal(opts, {}); var check = U.defVal(opts.check, true); await this.pause(1000, &quot;it needs a time to gather latest frames&quot;); await this._video.stop(); if (check) { expect(this._video.isRunning, &quot;Video recording is still running&quot;) .to.be.false; }; return this._video.filePath; }, }; × Search results Close "},"steps_web.js.html":{"id":"steps_web.js.html","title":"Source: steps/web.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: steps/web.js &quot;use strict&quot;; /** * Steps for web applications. * * @module */ var selenium = require(&quot;selenium-standalone&quot;); var logger = require(&quot;../logger&quot;); var U = require(&quot;../utils&quot;); /** * Steps to manage web application. * * @mixin */ module.exports = { /** * Step to install selenium drivers. * * @method * @instance * @async * @this Steps */ installSeleniumDrivers: async function () { var opts = { logger: message =&gt; logger.debug(message) }; await new Promise((resolve, reject) =&gt; { selenium.install(opts, err =&gt; { if (err) reject(err); logger.debug(&quot;Selenium drivers are installed&quot;); resolve(); }); }); }, /** * Step to start selenium server. * * @method * @instance * @async * @this Steps */ startSeleniumServer: async function () { var opts = {}; this._seleniumProc = await new Promise((resolve, reject) =&gt; { selenium.start(opts, (err, child) =&gt; { if (err) reject(err); logger.debug(`Selenium server starts with PID ${child.pid}`); resolve(child); }) }); }, /** * Step to stop selenium server. * * @method * @instance * @this Steps */ stopSeleniumServer: function () { if (this._seleniumProc) this._seleniumProc.kill(); }, /** * Step to launch browser. * * @method * @instance * @async * @this Steps * @arg {object} [opts] - Step options. * @arg {boolean} [opts.check=true] - Flag to check step result or no. * @throws {Error} - if browser isn't launched */ launchBrowser: async function (opts) { opts = U.defVal(opts, {}); opts.check = U.defVal(opts.check, true); if (this._isBrowserLaunched) return; await this._webdriver.init(); if (opts.check) { expect(await this._webdriver.session(), &quot;Browser isn't launched&quot;).to.not.be.null; }; if (CONF.resolution &amp;&amp; CONF.platform === &quot;pc&quot;) { await this._webdriver.setViewportSize({ width: CONF.resolution.width, height: CONF.resolution.height }); }; this._isBrowserLaunched = true; }, /** * Step to close browser. * * @method * @instance * @async * @this Steps * @arg {object} [opts] - Step options. * @arg {boolean} [opts.check=true] - Flag to check step result or no. * @throws {Error} - if browser isn't closed */ closeBrowser: async function (opts) { opts = U.defVal(opts, {}); opts.check = U.defVal(opts.check, true); if (!this._isBrowserLaunched) return; await this._webdriver.end(); if (opts.check) { expect(await this._webdriver.session(), &quot;Browser isn't closed&quot;).to.be.null; }; this._isBrowserLaunched = false; }, /** * Step to restart browser. * * @method * @instance * @async * @this Steps * @arg {object} [opts] - step options * @arg {boolean} [opts.check=true] - flag to check step result or no */ restartBrowser: async function (opts) { await this.closeBrowser(opts); await this.pause(1000, &quot;between browser restarting&quot;); await this.launchBrowser(opts); }, /** * Step to open page in browser. * * @method * @instance * @async * @this Steps * @arg {string|object} pageUrl - URL or page. */ openPage: async function (webUrl, opts) { await this._webdriver.url(webUrl); }, }; × Search results Close "},"steps_xvfb.js.html":{"id":"steps_xvfb.js.html","title":"Source: steps/xvfb.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: steps/xvfb.js &quot;use strict&quot;; /** * Steps for virtual display. * * @module */ var xvfb = require(&quot;xvfb&quot;); /** * Steps to manage virtual display. * * @mixin */ module.exports = { /** * Step to start virtual display. * * @method * @instance * @this Steps * @arg {object} [opts] - Step options. * @arg {number} [opts.width=1280] - Virtual display width. * @arg {number} [opts.height=720] - Virtual display height. * @arg {number} [opts.depth=24] - Virtual display color depth. * @arg {number} [opts.timeout=1000] - Time to wait for virtual display * will be started, ms. */ startXvfb: function (opts) { opts = opts || {}; var width = opts.width || 1280; var height = opts.height || 720; var depth = opts.depth || 24; var timeout = opts.timeout || 1000; this._xvfb = new Xvfb({ timeout: timeout, xvfb_args: [ `${width}x${height}x${depth}`, &quot;-noreset&quot;, &quot;-ac&quot;] }); this._xvfb.startSync(); }, /** * Step to stop virtual display. * * @method * @instance * @this Steps */ stopXvfb: function () { this._xvfb.stopSync(); }, }; × Search results Close "},"testing.js.html":{"id":"testing.js.html","title":"Source: testing.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: testing.js &quot;use strict&quot;; /** * Contains classes and functions to save executed tests data. * * @module */ var _ = require(&quot;lodash&quot;); /** * Test case data structure. * * Contains full information and history about test case. * * @class * @arg {string} name - Test case name. */ var TestCase = module.exports.TestCase = function (name) { this.name = name; this.status = TestCase.NOT_STARTED; }; /** * Resets test case info. * * @method */ TestCase.prototype.reset = function () { this.screenshots = []; this.errors = []; this.failedParams = []; this.testParams = []; }; /** * Adds failed params if they don't exist. * * @method * @arg {object} params - Params which test was failed with. */ TestCase.prototype.addFailedParams = function (params) { for (var failed of this.failedParams) { if (_.isEqual(params, failed)) break; }; this.failedParams.push(params); }; /** * Adds error to test case. * * @method * @arg {Error} err - Error. */ TestCase.prototype.addError = function (err) { this.errors.push(err); }; /** * Adds screenshot. * * @method * @arg {string} imagePath - Path to saved screenshot. */ TestCase.prototype.addScreenshot = function (imagePath) { this.screenshots.push(imagePath); }; TestCase.NOT_STARTED = &quot;not started&quot;; TestCase.IN_PROGRESS = &quot;in progress&quot;; TestCase.FAILED = &quot;failed&quot;; TestCase.PASSED = &quot;passed&quot;; × Search results Close "},"utils.js.html":{"id":"utils.js.html","title":"Source: utils.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: utils.js &quot;use strict&quot;; /** * Contains `GlaceJS` utils and helpers. * * @module */ var fs = require(&quot;fs&quot;); var path = require(&quot;path&quot;); var _ = require(&quot;lodash&quot;); var mkdirp = require(&quot;mkdirp&quot;); /** * Gets default value for variable among passed listed values. * * @function * @arg {...*} values - variable values * @return {*} - last specified value or null if last is undefined. */ module.exports.defVal = function () { for (var arg of arguments) if (typeof arg !== &quot;undefined&quot;) return arg; return null; }; /** * Capitalizes first letter of string. Doesn&quot;t influence to case * of other letters. * * @function * @param {string} string - string to capitalize * @return {string} - capitalized string */ module.exports.capitalize = string =&gt; { return string.charAt(0).toUpperCase() + string.slice(1); }; /** * Clears empty folders recursive. * * @function * @arg {string} folder - path to root folder */ var clearEmptyFolders = module.exports.clearEmptyFolders = folder =&gt; { var files = fs.readdirSync(folder); for (var fileName of files) { var filePath = path.join(folder, fileName); if (fs.statSync(filePath).isDirectory()) clearEmptyFolders(filePath); }; if (!_.isEmpty(files)) files = fs.readdirSync(folder); if (_.isEmpty(files)) fs.rmdirSync(folder); }; /** * Makes delay (sleep) during code execution. * * @param {number} timeout - Time to sleep, ms. * @param {boolean} [blocking=false] - Flag whether sleep should be * block code execution. * @return {Promise} - If sleep isn't blocking. */ module.exports.sleep = (timeout, blocking) =&gt; { blocking = !!blocking; if (blocking) { (ms =&gt; { ms += new Date().getTime(); while (new Date &lt; ms) {}; })(timeout); } else { return new Promise(resolve =&gt; { setTimeout(resolve, timeout); }); }; }; /** * Composes file path from segments. If folder of file is absent, it will * be created. * * @function * @arg {...string} paths - A sequence of paths or path segments. * @return {string} - Composed path. */ module.exports.mkpath = function () { var result = path.resolve.apply(path, arguments); var dirname = path.dirname(result); mkdirp.sync(dirname); return result; }; × Search results Close "},"video.js.html":{"id":"video.js.html","title":"Source: video.js","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Source: video.js &quot;use strict&quot;; /** * Classes and functions for video recording. * * @module */ var spawn = require(&quot;cross-spawn&quot;); var path = require(&quot;path&quot;); var U = require(&quot;./utils&quot;); /** * Creates a new instance of VideoRecorder. * * @class * @classdesc contains methods to record video for tests * @property {boolean} isRunning=false - flag is video recorder running or no * @property {?string} filePath=null - path video file */ var VideoRecorder = module.exports = function () { this.isRunning = false; this.filePath = null; this._process = null; this._recordCmd = &quot;ffmpeg&quot;; this._recordOpts = null; }; /** * Configures video recorder. * * @method * @arg {object} [opts] - recorder configuration * @arg {number} [opts.fps=30] - video framerate * @arg {number} [opts.width=1024] - video width * @arg {number} [opts.height=768] - video height * @arg {number} [opts.x=0] - `X`-offset on display * @arg {number} [opts.y=0] - `Y`-offset on display */ VideoRecorder.prototype.configure = function (opts) { opts = U.defVal(opts, {}); opts.fps = U.defVal(opts.fps, 30); opts.width = U.defVal(opts.width, 1024); opts.height = U.defVal(opts.height, 768); opts.x = U.defVal(opts.x, 0); opts.y = U.defVal(opts.y, 0); opts.size = opts.width + &quot;x&quot; + opts.height; this.filePath = U.defVal(opts.path, path.resolve(__dirname, &quot;output.mpg&quot;)); this._recordOpts = [ &quot;-y&quot;, &quot;-loglevel&quot;, &quot;quiet&quot;, &quot;-video_size&quot;, opts.size, &quot;-offset_x&quot;, opts.x, &quot;-offset_y&quot;, opts.y, &quot;-draw_mouse&quot;, 0, &quot;-framerate&quot;, opts.fps, &quot;-f&quot;, &quot;gdigrab&quot;, &quot;-i&quot;, &quot;desktop&quot;, &quot;-vcodec&quot;, &quot;libx264&quot;, this.filePath ]; }; /** * Starts video recorder. * * @method * @throws {Error} if video recorder is started already * @throws {Error} if video recorder isn't configured yet */ VideoRecorder.prototype.start = function () { if (this.isRunning) throw new Error(&quot;Video recorder is started already&quot;); if (!this._recordOpts) throw new Error(&quot;Video recorder isn't configured yet&quot;); this._process = spawn(this._recordCmd, this._recordOpts, { killSignal: &quot;SIGINT&quot; }); this.isRunning = true; }; /** * Stops video recorder. * * @method * @throws {Error} if video recorder isn't started yet */ VideoRecorder.prototype.stop = function () { if (!this.isRunning) throw new Error(&quot;Video recorder isn't started yet&quot;); return new Promise((resolve, reject) =&gt; { var result = this._process.kill(&quot;SIGINT&quot;); if (!result) { reject(&quot;Some &quot; + this._recordCmd + &quot; error, video wasn't captured&quot;); } else { this._process.on(&quot;exit&quot;, (code, signal) =&gt; { this.isRunning = false; resolve(); }); }; }); }; × Search results Close "},"global.html":{"id":"global.html","title":"Global","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Global Members CONF GlaceJS config. Source: globals.js, line 34 See: config to get more details about its options. SS Atomic steps collection. Source: globals.js, line 41 See: steps to get more details about its methods. Methods afterChunk(name, func) Executes after each test chunk. Parameters: Name Type Description name string Name of test case. func function Hook function. Source: globals.js, line 341 Example test(&quot;Some test&quot;, () =&gt; { afterChunk(() =&gt; { someFunc(); }); chunk(&quot;Chunk #1&quot;, () =&gt; { someFunc(); }); chunk(&quot;Chunk #2&quot;, () =&gt; { someFunc(); }); }); afterSession(ctx) Executes after tests session. May be overridden or expanded. Parameters: Name Type Description ctx object Session context. Source: globals.js, line 175 Example var oldAfterSession = afterSession; global.afterSession = ctx =&gt; { oldAfterSession(ctx); after(() =&gt; { someFunc(); }); }; beforeChunk(name, func) Executes before each test chunk. Parameters: Name Type Description name string Name of test case. func function Hook function. Source: globals.js, line 318 Example test(&quot;Some test&quot;, () =&gt; { beforeChunk(() =&gt; { someFunc(); }); chunk(&quot;Chunk #1&quot;, () =&gt; { someFunc(); }); chunk(&quot;Chunk #2&quot;, () =&gt; { someFunc(); }); }); beforeSession(ctx) Executes before tests session. May be overridden or expanded. Parameters: Name Type Description ctx object Session context. Source: globals.js, line 146 Example var oldBeforeSession = beforeSession; global.beforeSession = ctx =&gt; { before(() =&gt; { someFunc(); }); oldBeforeSession(ctx); }; chunk(name, func) Executes test chunk. Contains actions and verifications, which will be executed separatly from another chunks. This function is used to organize test structure and to allocate independent test actions. Parameters: Name Type Description name string Name of test case. func function Step function. Source: globals.js, line 295 Example test(&quot;Some test&quot;, () =&gt; { chunk(&quot;Some chunk&quot;, () =&gt; { someFunc(); }); }); expect(actualValue) chaijs expect function. Parameters: Name Type Description actualValue * Some actual value which should be checked. Source: globals.js, line 27 See: chaijs to get more details about `expect` usage. Example expect(1).to.be.equal(1); expect(2).to.be.gte(0); forEachLanguage(ctx, func) Iterates test chunks through all languages specifed in config. It's applicable for multilingual application. If list of languages is specified, it will be used firstly. Otherwise from configuration. Parameters: Name Type Description ctx object Test case context. func function Function with test steps. Source: globals.js, line 369 Example test(&quot;Some test&quot;, ctx =&gt; { forEachLanguage(ctx, lang =&gt; { beforeChunk(() =&gt; { someFunc(); }); chunk(&quot;Chunk #1&quot;, () =&gt; { someFunc(); }); chunk(&quot;Chunk #2&quot;, () =&gt; { someFunc(); }); }); }); scope(name, func) Execute tests scope. Parameters: Name Type Description name string Scope name. func function Function with test cases. Source: globals.js, line 71 Example scope(&quot;Some test scope&quot;, () =&gt; { test(&quot;Some test name&quot;, () =&gt; { before(() =&gt; { someFunc(); }); chunk(&quot;chunk #1&quot;, () =&gt; { someFunc(); }); chunk(&quot;chunk #2&quot;, () =&gt; { someFunc(); }); }); }); session( [name] [, ctx], func) Executes tests session. Parameters: Name Type Argument Description name string &lt;optional&gt; Session name. By default it includes start date time. ctx object &lt;optional&gt; Session context. By default it's empty. func function Function with test cases. Source: globals.js, line 108 Example session(() =&gt; { test(&quot;Test #1&quot;, () =&gt; { chunk(&quot;Chunk #1&quot;, () =&gt; { someFunc(); }); chunk(&quot;Chunk #2&quot;, () =&gt; { someFunc(); }); }); test(&quot;Test #2&quot;, () =&gt; { chunk(&quot;Chunk #1&quot;, () =&gt; { someFunc(); }); chunk(&quot;Chunk #2&quot;, () =&gt; { someFunc(); }); }); }); test(name, func) Executes test case. Parameters: Name Type Description name string Name of test case. func function Function with test chunks. Source: globals.js, line 270 Example test(&quot;Some test&quot;, () =&gt; { chunk(&quot;Some chunk&quot;, () =&gt; { someFunc(); }); }); × Search results Close "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Modules Classes ConfigError GlaceError StepError Image Control PointerEvents Page BaseProxy GlobalProxy WebProxy BaseReporter Steps TestCase VideoRecorder Mixins module:lib/steps/image module:lib/steps/page module:lib/steps/proxy module:lib/steps/video module:lib/steps/web module:lib/steps/xvfb Namespaces config × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Classes Classes ConfigError GlaceError StepError Image Control PointerEvents Page BaseProxy GlobalProxy WebProxy BaseReporter Steps TestCase VideoRecorder Mixins module:lib/steps/image module:lib/steps/page module:lib/steps/proxy module:lib/steps/video module:lib/steps/web module:lib/steps/xvfb Namespaces config × Search results Close "},"namespaces.list.html":{"id":"namespaces.list.html","title":"Namespaces","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Namespaces Classes ConfigError GlaceError StepError Image Control PointerEvents Page BaseProxy GlobalProxy WebProxy BaseReporter Steps TestCase VideoRecorder Mixins module:lib/steps/image module:lib/steps/page module:lib/steps/proxy module:lib/steps/video module:lib/steps/web module:lib/steps/xvfb Namespaces config × Search results Close "},"tutorials.list.html":{"id":"tutorials.list.html","title":"Tutorials","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Tutorials Classes ConfigError GlaceError StepError Image Control PointerEvents Page BaseProxy GlobalProxy WebProxy BaseReporter Steps TestCase VideoRecorder Mixins module:lib/steps/image module:lib/steps/page module:lib/steps/proxy module:lib/steps/video module:lib/steps/web module:lib/steps/xvfb Namespaces config × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Glace (fr. glacé — ice, frozen) is a cold drink based on coffee with addition of ice cream. GlaceJS is a functional testing framework based on mochajs. × Search results Close "},"module-lib_cli.html":{"id":"module-lib_cli.html","title":"Module: lib/cli","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Module: lib/cli Contains functions to execute tests via command line interface. Source: cli.js, line 2 Methods &lt;static&gt; run() Runs tests. executes runner.js file, which is entry point to load and execute files with tests connects custom reporter to mochajs. Source: cli.js, line 22 × Search results Close "},"module-lib_config.html":{"id":"module-lib_config.html","title":"Module: lib/config","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Module: lib/config Configures GlaceJS before tests run. Source: config.js, line 2 Namespaces config × Search results Close "},"module-lib_config-config.html":{"id":"module-lib_config-config.html","title":"Namespace: config","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Namespace: config lib/config~ config Contains GlaceJS main configuration. Properties: Name Type Argument Default Description curTestCase TestCase &lt;optional&gt; &lt;nullable&gt; null Pointer to current test case object. On tests run it points to null. The pointer changes when a test launches. testCases Array.&lt;TestCase&gt; &lt;optional&gt; [] List of all executed test cases. It populates when a test launches. It is used to store full information about executed tests and may be used in reporter. testsDir string Path to tests directory or single test module. If it contains path to directory, tests will be loaded recursive from it. By default GlaceJS tries to load tests from tests folder in current work directory. reportsDir string Path to directory where reports will be put. By default GlaceJS tries to put reports to reports folder in current work directory. log object Logger settings. Properties Name Type Argument Default Description file string Path to common logger file, which is glacejs.log inside current work directory. level string &lt;optional&gt; debug Common logger level. webdriver object Webdriver settings. Corresponds to webdriverio remote settings. isWeb boolean &lt;optional&gt; false Flag to launch tests in browser. appUrl string URL of web application. noDriversInstall boolean &lt;optional&gt; true Flag to not install selenium drivers on start. platform string &lt;optional&gt; pc Platform type where should launch tests. Permitted values are pc, android, ios. browserName string Name of browser where tests will be executed. Default value depends on platform. Chrome for pc, chrome for android, safari for ios. testRetries number &lt;optional&gt; 0 Number of times to retry a failed test. stdoutLog boolean &lt;optional&gt; false Flag to print log message in stdout. toTestrail boolean &lt;optional&gt; false Flag to plug testrail reporter. grep string &lt;optional&gt; Filter for test cases. suppressUncaught boolean &lt;optional&gt; false Suppress uncaught exceptions processing by mochajs. isDesktop boolean &lt;optional&gt; false Flag that tests are launched on desktop. isMobile boolean &lt;optional&gt; false Flag that tests are launched on mobile device. isAndroid boolean &lt;optional&gt; false Flag that tests are launched on android device. isIos boolean &lt;optional&gt; false Flag that tests are launched on iOS device. Source: config.js, line 104 × Search results Close "},"module-lib_error.html":{"id":"module-lib_error.html","title":"Module: lib/error","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Module: lib/error Contains GlaceJS errors. Source: error.js, line 2 Classes ConfigError GlaceError StepError × Search results Close "},"module-lib_error-ConfigError.html":{"id":"module-lib_error-ConfigError.html","title":"Class: ConfigError","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Class: ConfigError lib/error~ ConfigError new ConfigError(message) Error which is thrown when configuration is wrong. Parameters: Name Type Description message string Error message. Source: error.js, line 26 × Search results Close "},"module-lib_error-GlaceError.html":{"id":"module-lib_error-GlaceError.html","title":"Class: GlaceError","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Class: GlaceError lib/error~ GlaceError new GlaceError(message) Error which is thrown in GlaceJS, if no more specific error is defined. Parameters: Name Type Description message string Error message. Source: error.js, line 16 × Search results Close "},"module-lib_error-StepError.html":{"id":"module-lib_error-StepError.html","title":"Class: StepError","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Class: StepError lib/error~ StepError new StepError(message) Error which is thrown when step execution is wrong. Parameters: Name Type Description message string Error message. Source: error.js, line 36 × Search results Close "},"module-lib_globals.html":{"id":"module-lib_globals.html","title":"Module: lib/globals","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Module: lib/globals Contains global framework functions and helpers. Source: globals.js, line 2 Members &lt;inner&gt; sessNum :Number Executed sessions counter. Type: Number Source: globals.js, line 77 Methods &lt;abstract, inner&gt; baseTest(name, func) Basis for any test case. If test with the same was registered already, this test will be omitted with corresponding error in log. If retries amount is specified and this test was failed, the test will be added to queue in separated session with title containing Retry and its number. Parameters: Name Type Description name string Name of test case. func function Test function. Source: globals.js, line 196 × Search results Close "},"module-lib_hacking.html":{"id":"module-lib_hacking.html","title":"Module: lib/hacking","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Module: lib/hacking Contains hacks for test run. Source: hacking.js, line 2 Members &lt;inner&gt; _mochaRunner :Runner Mocha runner. Type: Runner Source: hacking.js, line 29 Methods &lt;static&gt; getRunner() Gets mocha runner. Source: hacking.js, line 41 &lt;static&gt; suppressUncaught() Patches original Mocha.Runner.prototype.uncaught in order to skip exceptions from proxy server res.send(). Source: hacking.js, line 18 × Search results Close "},"module-lib_image.html":{"id":"module-lib_image.html","title":"Module: lib/image","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Module: lib/image Contains classes and functions to process images. Source: image.js, line 2 Classes Image × Search results Close "},"module-lib_image-Image.html":{"id":"module-lib_image-Image.html","title":"Class: Image","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Class: Image lib/image~ Image new Image(srcPath [, srcOpts]) Creates new instance of Image. Parameters: Name Type Argument Description srcPath string path to processed image srcOpts object &lt;optional&gt; image options Properties Name Type Argument Description scaleX number &lt;optional&gt; image current scale value on X axis scaleY number &lt;optional&gt; image current scale value on Y axis Source: image.js, line 20 Methods &lt;protected&gt; _cropPixels(pixels) Crops pixels, removes empty rows and columns. Parameters: Name Type Description pixels Array.&lt;Array.&lt;object&gt;&gt; pixels matrix Source: image.js, line 275 Returns: cropped pixels matrix Type Array.&lt;Array.&lt;object&gt;&gt; &lt;protected&gt; _cropTop(pixels) Crops top part of pixels matrix. Parameters: Name Type Description pixels Array.&lt;Array.&lt;object&gt;&gt; pixels matrix Source: image.js, line 296 Returns: cropped pixels matrix Type Array.&lt;Array.&lt;object&gt;&gt; &lt;protected&gt; _getDiffValue(srcPixels, dstPixels, offsetX, offsetY) Calculates difference between source pixels and destination pixels. Parameters: Name Type Description srcPixels Array.&lt;Array.&lt;object&gt;&gt; source pixels matrix dstPixels Array.&lt;Array.&lt;object&gt;&gt; destination pixels matrix offsetX number source left border offset offsetY number source top border offset Source: image.js, line 187 Returns: difference value Type number &lt;protected&gt; _getPixels(img) Retrieves pixels from image data. Parameters: Name Type Description img object image data Source: image.js, line 246 Returns: pixels matrix Type Array.&lt;Array.&lt;object&gt;&gt; &lt;protected&gt; _includes(src, dst) Defines whether one image data includes another. Parameters: Name Type Description src object source image data dst object destination image data, which is potentially included Source: image.js, line 128 Returns: result Type object &lt;protected&gt; _isPixelTolerant(srcPixel, dstPixel) Defines whether source pixel is tolerant to destination pixel. Parameters: Name Type Description srcPixel object source pixel dstPixel object destination pixel Source: image.js, line 228 Returns: true if pixels are tolerant, false otherwise Type boolean &lt;protected&gt; _isPixelUsed(pixel) Defines whether pixel should be used for difference calculation or no, according its alpha value. Parameters: Name Type Description pixel object pixel Source: image.js, line 216 Returns: true if should be, false otherwise Type boolean &lt;protected&gt; _loadImg(imgPath, imgOpts) Loads image. Parameters: Name Type Description imgPath string path loaded image imgOpts object image options Source: image.js, line 92 Returns: image data Type Promise.&lt;object&gt; &lt;protected&gt; _saveMatchImage(left, top, width, height) Saves matched part of image. Parameters: Name Type Description left number offset from left image border top number offset from top image border width number width of matched part height number height of matched part Source: image.js, line 114 Returns: Type Promise _transpose(pixels) Transposes pixels matrix. Parameters: Name Type Description pixels Array.&lt;Array.&lt;object&gt;&gt; pixels matrix Source: image.js, line 328 Returns: transposed pixels matrix Type Array.&lt;Array.&lt;object&gt;&gt; includes(dstPath [, dstOpts]) Defines if processed image includes specified image. Parameters: Name Type Argument Description dstPath string path to potentially included image dstOpts object &lt;optional&gt; included image options Properties Name Type Argument Default Description tolerance number &lt;optional&gt; 0.05 comparison tolerance matchedPath string &lt;optional&gt; &lt;nullable&gt; null path to same captured place saveMatch boolean &lt;optional&gt; false flag to capture images intersection or no Source: image.js, line 44 Returns: result Type Promise.&lt;object&gt; × Search results Close "},"module-lib_index.html":{"id":"module-lib_index.html","title":"Module: lib/index","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Module: lib/index Main GlaceJS module. Properties: Name Type Description config object Config module. error object Error module. logger object Logger module. page object Page module. reporter object Reporter module. Source: index.js, line 2 × Search results Close "},"module-lib_logger.html":{"id":"module-lib_logger.html","title":"Module: lib/logger","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Module: lib/logger Configures GlaceJS logging. Source: logger.js, line 2 × Search results Close "},"module-lib_page_element.html":{"id":"module-lib_page_element.html","title":"Module: lib/page/element","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Module: lib/page/element Defines classes responsible for interaction with DOM in browser context. Source: page/element.js, line 2 Classes Control × Search results Close "},"module-lib_page_element-Control.html":{"id":"module-lib_page_element-Control.html","title":"Class: Control","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Class: Control lib/page/element~ Control new Control(name, driver) Creates a new instance of Control. Control binds DOM control in browser context with virtual control in test. Parameters: Name Type Description name string control name driver object selenium driver instance Source: page/element.js, line 22 Methods click() Clicks control in browser. Source: page/element.js, line 91 Returns: result of selenium execution in browser context Type Promise.&lt;*&gt; getText() Gets text content of DOM element. Source: page/element.js, line 37 Returns: text value or null Type Promise.&lt;string&gt; isExist() Defines whether control is exist or no. Source: page/element.js, line 123 Returns: true if control is exist, false otherwise Type Promise.&lt;boolean&gt; isSelected() Defines whether control is selected or no. Source: page/element.js, line 108 Returns: true if control is selected, false otherwise Type Promise.&lt;boolean&gt; isVisible() Defines whether control is visible or no. Source: page/element.js, line 167 Returns: true if control is visible, false otherwise Type Promise.&lt;boolean&gt; location() Gets DOM control location with attributes: x, y, midX, midY, width, height Source: page/element.js, line 56 Returns: location of control Type Promise.&lt;object&gt; scrollIntoView() Scrolls control into browser viewport. Source: page/element.js, line 78 Returns: result of javascript execution in browser context Type Promise.&lt;*&gt; tap() Taps control in browser. Source: page/element.js, line 101 waitForExist( [timeout]) Waits for control is exist. Parameters: Name Type Argument Description timeout number &lt;optional&gt; timeout to wait, ms Source: page/element.js, line 137 Throws: If control isn't exist after timeout. Type TimeoutError Returns: result of selenium execution Type Promise.&lt;*&gt; waitForInvisible( [timeout]) Waits for control is invisible. Parameters: Name Type Argument Description timeout number &lt;optional&gt; timeout to wait, ms Source: page/element.js, line 197 Throws: If control is still visible after timeout. Type TimeoutError Returns: result of selenium execution Type Promise.&lt;*&gt; waitForNonExist( [timeout]) Waits for control isn't exist. Parameters: Name Type Argument Description timeout number &lt;optional&gt; timeout to wait, ms Source: page/element.js, line 153 Throws: If control is still exist after timeout. Type TimeoutError Returns: result of selenium execution Type Promise.&lt;*&gt; waitForVisible( [timeout]) Waits for control is visible. Parameters: Name Type Argument Description timeout number &lt;optional&gt; timeout to wait, ms Source: page/element.js, line 181 Throws: If control isn't visible after timeout. Type TimeoutError Returns: result of selenium execution Type Promise.&lt;*&gt; × Search results Close "},"module-lib_page_event.html":{"id":"module-lib_page_event.html","title":"Module: lib/page/event","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Module: lib/page/event Browser events. Source: page/event.js, line 2 Classes PointerEvents × Search results Close "},"module-lib_page_event-PointerEvents.html":{"id":"module-lib_page_event-PointerEvents.html","title":"Class: PointerEvents","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Class: PointerEvents lib/page/event~ PointerEvents Contains browser pointer events. new PointerEvents() Creates a new pointer events instance. Source: page/event.js, line 15 Methods cancel(selector, x, y) Cancel pointer on element by selector. Parameters: Name Type Description selector string css selector x integer x coordinate y integer y coordinate Source: page/event.js, line 121 Returns: webdriverio instance Type object down(selector, x, y) Presses pointer down on element by selector. Parameters: Name Type Description selector string css selector x integer x coordinate y integer y coordinate Source: page/event.js, line 67 Returns: webdriverio instance Type object enter(selector, x, y) Enters pointer to element by selector. Parameters: Name Type Description selector string css selector x integer x coordinate y integer y coordinate Source: page/event.js, line 49 Returns: webdriverio instance Type object leave(selector, x, y) Leaves pointer from element by selector. Parameters: Name Type Description selector string css selector x integer x coordinate y integer y coordinate Source: page/event.js, line 157 Returns: webdriverio instance Type object move(selector, x, y) Moves pointer to element by selector. Parameters: Name Type Description selector string css selector x integer x coordinate y integer y coordinate Source: page/event.js, line 103 Returns: webdriverio instance Type object out(selector, x, y) Moves out pointer from element by selector. Parameters: Name Type Description selector string css selector x integer x coordinate y integer y coordinate Source: page/event.js, line 139 Returns: webdriverio instance Type object over(selector, x, y) Moves pointer over element by selector. Parameters: Name Type Description selector string css selector x integer x coordinate y integer y coordinate Source: page/event.js, line 31 Returns: webdriverio instance Type object up(selector, x, y) Unpresses pointer up on element by selector. Parameters: Name Type Description selector string css selector x integer x coordinate y integer y coordinate Source: page/event.js, line 85 Returns: webdriverio instance Type object × Search results Close "},"module-lib_page_index.html":{"id":"module-lib_page_index.html","title":"Module: lib/page/index","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Module: lib/page/index Page. Source: page/index.js, line 2 Classes Page × Search results Close "},"module-lib_page_index-Page.html":{"id":"module-lib_page_index-Page.html","title":"Class: Page","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Class: Page lib/page/index~ Page new Page(name, pageUrl, elements) Page of browser. Parameters: Name Type Description name string Name of page. pageUrl string URL of page. elements object Element names and selectors dictionary. Source: page/index.js, line 18 Methods addElements(elements) Adds elements to page. Parameters: Name Type Description elements object Element names and selectors dictionary. Source: page/index.js, line 56 open(hostUrl) Opens page in browser. Parameters: Name Type Description hostUrl string URL of host where page is located. Source: page/index.js, line 83 removeElements(elementNames) Removes elements from page. Parameters: Name Type Argument Description elementNames string &lt;repeatable&gt; Sequence of element names. Source: page/index.js, line 74 setDriver(webdriver) Sets webdriver for page. Parameters: Name Type Description webdriver object Webdriver instance. Source: page/index.js, line 33 × Search results Close "},"module-lib_proxy_base.html":{"id":"module-lib_proxy_base.html","title":"Module: lib/proxy/base","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Module: lib/proxy/base Base proxy. Source: proxy/base.js, line 2 Classes BaseProxy × Search results Close "},"module-lib_proxy_base-BaseProxy.html":{"id":"module-lib_proxy_base-BaseProxy.html","title":"Class: BaseProxy","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Class: BaseProxy lib/proxy/base~ BaseProxy &lt;abstract&gt; new BaseProxy() Base proxy. Source: proxy/base.js, line 16 Methods getResponsesData() Gets responses data. Source: proxy/base.js, line 65 measureResponses() Starts to measure responses and gather information of them. Source: proxy/base.js, line 49 resetSpeed() Resets speed of responses. Source: proxy/base.js, line 41 setSpeed(speed) Sets speed of responses from proxy to client. Parameters: Name Type Description speed number Proxy responses speed. kb/s. Source: proxy/base.js, line 33 start() Starts proxy. Source: proxy/base.js, line 74 stop() Stops proxy server. Source: proxy/base.js, line 82 unmeasureResponses() Disables responses measurement. Source: proxy/base.js, line 57 × Search results Close "},"module-lib_proxy_globalProxy.html":{"id":"module-lib_proxy_globalProxy.html","title":"Module: lib/proxy/globalProxy","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Module: lib/proxy/globalProxy Describes global transparent proxy. Source: proxy/globalProxy.js, line 2 Classes GlobalProxy × Search results Close "},"module-lib_proxy_globalProxy-GlobalProxy.html":{"id":"module-lib_proxy_globalProxy-GlobalProxy.html","title":"Class: GlobalProxy","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Class: GlobalProxy lib/proxy/globalProxy~ GlobalProxy Contains methods to run and manage global transparent proxy. new GlobalProxy( [opts]) Creates new instance of GlobalProxy. Parameters: Name Type Argument Description opts object &lt;optional&gt; global proxy options Properties Name Type Argument Default Description port number &lt;optional&gt; 8080 global proxy port timeout number &lt;optional&gt; 0 global proxy timeout installCertificate boolean &lt;optional&gt; false flag to install global proxy certificate as trusted in order to manage https connection or no rootPath string &lt;optional&gt; &lt;nullable&gt; Folder where proxy starts in order to generate self-signed certificate. By default is current work directory. useCache boolean &lt;optional&gt; false flag to cache and take from cache responses Source: proxy/globalProxy.js, line 34 Methods start() Starts global proxy if it&quot;s not started yet. Source: proxy/globalProxy.js, line 70 stop() Stops global proxy if it&quot;s not stopped yet. Source: proxy/globalProxy.js, line 115 × Search results Close "},"module-lib_proxy_index.html":{"id":"module-lib_proxy_index.html","title":"Module: lib/proxy/index","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Module: lib/proxy/index Proxy package. Source: proxy/index.js, line 2 × Search results Close "},"module-lib_proxy_middleware_cache.html":{"id":"module-lib_proxy_middleware_cache.html","title":"Module: lib/proxy/middleware/cache","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Module: lib/proxy/middleware/cache Middleware to cache responses. Source: proxy/middleware/cache.js, line 2 Methods &lt;inner&gt; cache() Middleware to cache server responses and reply them. This: BaseProxy Source: proxy/middleware/cache.js, line 38 Returns: true if response was retrieved from cache, false otherwise. Type boolean &lt;inner&gt; fromCache(req, res) Patches http response to send response from cache, if it is there. Parameters: Name Type Description req object http(s) request res object http(s) response Source: proxy/middleware/cache.js, line 58 Returns: true if response is in cache and was patched, otherwise false Type Promise.&lt;boolean&gt; &lt;inner&gt; toCache(req, res) Patches http response to put response to cache. Parameters: Name Type Description req object http(s) request res object http(s) response Source: proxy/middleware/cache.js, line 83 × Search results Close "},"module-lib_proxy_middleware_index.html":{"id":"module-lib_proxy_middleware_index.html","title":"Module: lib/proxy/middleware/index","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Module: lib/proxy/middleware/index Proxy middleware package. Source: proxy/middleware/index.js, line 2 × Search results Close "},"module-lib_proxy_middleware_info.html":{"id":"module-lib_proxy_middleware_info.html","title":"Module: lib/proxy/middleware/info","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Module: lib/proxy/middleware/info Contains proxy middlewares Source: proxy/middleware/info.js, line 2 Methods &lt;inner&gt; info() Middleware to gather information about requests and responses. Source: proxy/middleware/info.js, line 17 × Search results Close "},"module-lib_proxy_middleware_speed.html":{"id":"module-lib_proxy_middleware_speed.html","title":"Module: lib/proxy/middleware/speed","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Module: lib/proxy/middleware/speed Middleware to manage responses speed. Source: proxy/middleware/speed.js, line 2 Methods &lt;static&gt; changeResponsesSpeed(res, speed) Middleware to change responses speed. Parameters: Name Type Description res object http(s) response speed number limited speed value, kb/s Source: proxy/middleware/speed.js, line 15 × Search results Close "},"module-lib_proxy_proxy.html":{"id":"module-lib_proxy_proxy.html","title":"Module: lib/proxy/proxy","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Module: lib/proxy/proxy Web Proxy classes and functions. Source: proxy/proxy.js, line 2 Classes WebProxy × Search results Close "},"module-lib_proxy_proxy-WebProxy.html":{"id":"module-lib_proxy_proxy-WebProxy.html","title":"Class: WebProxy","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Class: WebProxy lib/proxy/proxy~ WebProxy new WebProxy(opts) Web Proxy. Parameters: Name Type Description opts object Proxy options. Properties Name Type Description url string URL which should be proxied. them from cache. Source: proxy/proxy.js, line 30 Methods start() Starts proxy server if it’s not started yet. Source: proxy/proxy.js, line 82 stop() Stops proxy server if it’s not stopped yet. Source: proxy/proxy.js, line 92 × Search results Close "},"module-lib_reporter_base.html":{"id":"module-lib_reporter_base.html","title":"Module: lib/reporter/base","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Module: lib/reporter/base Common reporter. Source: reporter/base.js, line 2 Classes BaseReporter Members &lt;inner&gt; reporters :Array.&lt;object&gt; Registered reporters. Type: Array.&lt;object&gt; Source: reporter/base.js, line 22 × Search results Close "},"module-lib_reporter_base-BaseReporter.html":{"id":"module-lib_reporter_base-BaseReporter.html","title":"Class: BaseReporter","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Class: BaseReporter lib/reporter/base~ BaseReporter new BaseReporter(runner) GlaceJS common reporter. Parameters: Name Type Description runner object MochaJS runner. Source: reporter/base.js, line 29 Methods &lt;static&gt; register(reporters) Registers reporters if they are not. Parameters: Name Type Argument Description reporters object &lt;repeatable&gt; Sequence of reporters to register. Source: reporter/base.js, line 144 &lt;static&gt; remove(reporters) Removes reporters if they are registered. Parameters: Name Type Argument Description reporters object &lt;repeatable&gt; Sequence of reporters to remove. Source: reporter/base.js, line 158 &lt;async&gt; done(failures, fn) Finilizes reporting. Parameters: Name Type Description failures fn function Finalizator. Source: reporter/base.js, line 126 × Search results Close "},"module-lib_reporter_index.html":{"id":"module-lib_reporter_index.html","title":"Module: lib/reporter/index","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Module: lib/reporter/index GlaceJS reporter package. Source: reporter/index.js, line 2 × Search results Close "},"module-lib_reporter_stdout.html":{"id":"module-lib_reporter_stdout.html","title":"Module: lib/reporter/stdout","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Module: lib/reporter/stdout GlaceJS stdout reporter. Source: reporter/stdout.js, line 2 Methods end() Called before tests end. Source: reporter/stdout.js, line 104 fail(chunk) Called on chunk or hook failed. Parameters: Name Type Description chunk object MochaJS test. Source: reporter/stdout.js, line 179 pass(chunk) Called on chunk passed. Parameters: Name Type Description chunk object MochaJS test. Source: reporter/stdout.js, line 167 scope(scope) Called on scope start. Parameters: Name Type Description scope object MochaJS suite. Source: reporter/stdout.js, line 119 scopeEnd(scope) Called before scope end. Parameters: Name Type Description scope object MochaJS suite. Source: reporter/stdout.js, line 133 start() Called on tests start. Source: reporter/stdout.js, line 95 test(test) Called on test start. Parameters: Name Type Description test object MochaJS suite. Source: reporter/stdout.js, line 144 testEnd(test) Called on test end. Parameters: Name Type Description test object MochaJS suite. Source: reporter/stdout.js, line 156 × Search results Close "},"module-lib_reporter_testrail.html":{"id":"module-lib_reporter_testrail.html","title":"Module: lib/reporter/testrail","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Module: lib/reporter/testrail GlaceJS TestRail reporter. Source: reporter/testrail.js, line 2 Methods done() Called on report finalizing. Source: reporter/testrail.js, line 134 end() Called before tests end. Source: reporter/testrail.js, line 76 start() Called on tests start. Source: reporter/testrail.js, line 33 testEnd(test) Called on test end. Parameters: Name Type Description test object MochaJS suite. Source: reporter/testrail.js, line 89 × Search results Close "},"module-lib_runner.html":{"id":"module-lib_runner.html","title":"Module: lib/runner","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Module: lib/runner Makes tests root session. runner loads root conftest.js if it is located on one level with CONF.testsDir; if CONF.testsDir is file with tests, runner loads and executes it; if CONF.testsDir is folder runner loads files inside recursive if file name starts with test and ends with .js; inside each subfolder of CONF.testsDir runner loads conftest.js file if it is present; Source: runner.js, line 2 × Search results Close "},"module-lib_steps_image.html":{"id":"module-lib_steps_image.html","title":"Mixin: module:lib/steps/image","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Mixin: module:lib/steps/image module:lib/steps/image Steps to manage web screenshots and images. Source: steps/image.js, line 17 Methods &lt;async, protected&gt; _canvasScreenshot(imagePath [, opts]) Helper to make screenshot with html2canvas. This: Step Parameters: Name Type Argument Description imagePath string Path to screenshot which will be saved. opts object &lt;optional&gt; Helper options. Properties Name Type Argument Default Description cssSelector string &lt;optional&gt; &lt;nullable&gt; null CSS selector of DOM element which of screenshot should be made. timeout number &lt;optional&gt; 30000 Time to wait for screenshot is rendered, ms Source: steps/image.js, line 267 Throws: If screenshot will not be rendered during timeout. Type Error &lt;async, protected&gt; _checkImagesEquivalence(actualImage, expectedImage [, opts]) Helper to check two images are equal or not equal. This: Steps Parameters: Name Type Argument Description actualImage string Path to actual image. expectedImage string Path to expected image. opts object &lt;optional&gt; Helper options. Properties Name Type Argument Default Description threshold number &lt;optional&gt; 0.05 Threshold of divergence. shouldBe boolean &lt;optional&gt; true Flag to check whether image are equal or not equal. Source: steps/image.js, line 211 Throws: If result of images comparison don't pass requested parameters. Type AssertionError &lt;async, protected&gt; _cutElement(imagePath, elementName [, opts]) Helper to cut element from image. This: Steps Parameters: Name Type Argument Description imagePath string Path to image which element will be cut from. elementName string Name of element which will be cut. opts object &lt;optional&gt; Helper options. Properties Name Type Argument Description name string &lt;optional&gt; Name of cut image with element. path string &lt;optional&gt; Path to cut image with element. Source: steps/image.js, line 345 Throws: If original image doesn't exist. Type AssertionError If DOM element is not registered in config. Type AssertionError If cut image is not saved. Type AssertionError &lt;async, protected&gt; _seleniumScreenshot(imagePath) Helper to make screenshot with selenium. This: Steps Parameters: Name Type Description imagePath string Path to screenshot which will be saved, Source: steps/image.js, line 248 &lt;async, protected&gt; checkImagesEquivalence(actualImage, expectedImage [, opts]) Step to check two image are equal or not equal This: Steps Parameters: Name Type Argument Description actualImage string Path to actual image. expectedImage string Path to expected image. opts object &lt;optional&gt; Helper options. Properties Name Type Argument Default Description threshold number &lt;optional&gt; 0.05 Threshold of divergence. shouldBe boolean &lt;optional&gt; true Flag to check whether image are equal or not equal. elements Array.&lt;string&gt; &lt;optional&gt; [] List of elements on image which should be verified. Source: steps/image.js, line 98 Throws: If result of images comparison don't pass requested parameters. Type AssertionError &lt;async, protected&gt; checkImagesInclusion(actualImage, expectedImage [, opts]) Step to check one image includes or doesn't inclue another image. This: Steps Parameters: Name Type Argument Description actualImage string Path to actual image. expectedImage string Path to image which may include actual image. opts object &lt;optional&gt; Step options. Properties Name Type Argument Default Description threshold number &lt;optional&gt; 0.05 Threshold of divergence. shouldBe boolean &lt;optional&gt; true Flag to check whether image are equal or not equal. Source: steps/image.js, line 128 &lt;async&gt; checkOrMakeScreenshot( [opts]) Step to check or make web screenshot in browser. This: Steps Parameters: Name Type Argument Description opts object &lt;optional&gt; Step options. Properties Name Type Argument Default Description imageName string &lt;optional&gt; Screenshot name. File extension .png will be added automatically. Default value is dynamically generated on each call with algorithm uuid. bySelenium boolean &lt;optional&gt; true Flag to use selenium to make screenshot. Other library html2canvas will be used. preHook function &lt;optional&gt; &lt;nullable&gt; null Function which will be called in Steps context in the beginning of step. postHook function &lt;optional&gt; &lt;nullable&gt; null Function which will be called in Steps context at the end of step. elements Array.&lt;string&gt; &lt;optional&gt; [] List of elements on image which should be verified. check boolean &lt;optional&gt; true Flag to check screenshot is saved or no. Source: steps/image.js, line 180 Throws: If screenshot isn't saved. Type AssertionError &lt;async&gt; makeScreenshot( [opts]) Step to make web screenshot in browser. This: Steps Parameters: Name Type Argument Description opts object &lt;optional&gt; Step options. Properties Name Type Argument Default Description imageName string &lt;optional&gt; Screenshot name. File extension .png will be added automatically. Default value is dynamically generated on each call with algorithm uuid. bySelenium boolean &lt;optional&gt; true Flag to use selenium to make screenshot. Other library html2canvas will be used. preHook function &lt;optional&gt; &lt;nullable&gt; null Function which will be called in Steps context in the beginning of step. postHook function &lt;optional&gt; &lt;nullable&gt; null Function which will be called in Steps context at the end of step. element string &lt;optional&gt; &lt;nullable&gt; null Web element which should be screenshotted. check boolean &lt;optional&gt; true Flag to check screenshot is saved or no. Source: steps/image.js, line 42 Throws: If screenshot isn't saved. Type AssertionError Returns: Path to saved screenshot. Type string × Search results Close "},"module-lib_steps_index.html":{"id":"module-lib_steps_index.html","title":"Module: lib/steps/index","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Module: lib/steps/index Steps namespace. Source: steps/index.js, line 2 Classes Steps × Search results Close "},"module-lib_steps_index-Steps.html":{"id":"module-lib_steps_index-Steps.html","title":"Class: Steps","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Class: Steps lib/steps/index~ Steps new Steps() Steps collection which will be executed in test cases. Source: steps/index.js, line 18 Methods &lt;static&gt; register() Registers sequence of objects containing steps. Source: steps/index.js, line 52 &lt;async&gt; pause(timeout, message) Step to make pause in another step or test case. Good style to rid of its direct usage in test case, only inside other step. Parameters: Name Type Description timeout number Pause time, ms. message string Pause reason. Source: steps/index.js, line 41 setWebdriver(webdriver) Sets webdriver. It's used for web ui test cases. Parameters: Name Type Description webdriver object Instance of webdriver. Source: steps/index.js, line 30 × Search results Close "},"module-lib_steps_page.html":{"id":"module-lib_steps_page.html","title":"Mixin: module:lib/steps/page","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Mixin: module:lib/steps/page module:lib/steps/page Steps to manage page. Source: steps/page.js, line 14 Methods &lt;async&gt; getCurrentPage() Step to get current page. This: Steps Source: steps/page.js, line 65 Throws: If Type StepError Returns: Page which corresponds to current browser URL. Type Page openPage(pageName) Step to open page. This: Steps Parameters: Name Type Description pageName string Name of page to open. Source: steps/page.js, line 51 registerPage(pages) Helper to register pages. This: Steps Parameters: Name Type Argument Description pages Page &lt;repeatable&gt; Sequence of pages. Source: steps/page.js, line 23 removePage(pageNames) Helper to remove pages. This: Steps Parameters: Name Type Argument Description pageNames string &lt;repeatable&gt; Sequence of page names. Source: steps/page.js, line 37 × Search results Close "},"module-lib_steps_proxy.html":{"id":"module-lib_steps_proxy.html","title":"Mixin: module:lib/steps/proxy","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Mixin: module:lib/steps/proxy module:lib/steps/proxy Steps to manage proxy. Source: steps/proxy.js, line 17 Methods &lt;protected&gt; _checkProxy() Helper to check that proxy is launched. This: Steps Source: steps/proxy.js, line 348 Throws: If no proxy is launched. Type AssertionError getResponsesData( [opts]) Step to get measured responses data. This: Steps Parameters: Name Type Argument Description opts object &lt;optional&gt; Step options. Properties Name Type Argument Default Description check boolean &lt;optional&gt; true Flag to check that responses data are present. Source: steps/proxy.js, line 278 Throws: If responses data are absent. Type AssertionError limitProxySpeed(speed [, opts]) Step to limit proxy speed. This: Steps Parameters: Name Type Argument Description speed number Proxy limited speed, kb/s. opts object &lt;optional&gt; Step options. Properties Name Type Argument Default Description check boolean &lt;optional&gt; true Flat to check that proxy speed is limited. Source: steps/proxy.js, line 168 Throws: If proxy speed is not limited. Type AssertionError measureResponses( [opts]) Step to start responses measurement. This: Steps Parameters: Name Type Argument Description opts object &lt;optional&gt; Step options. Properties Name Type Argument Default Description check boolean &lt;optional&gt; true Flag to check that responses measurement is launched. Source: steps/proxy.js, line 240 Throws: If responses measurement is not launched. Type AssertionError &lt;async&gt; startGlobalProxy( [opts]) Step to start global proxy. This: Steps Parameters: Name Type Argument Description opts object &lt;optional&gt; Step to start proxy. Properties Name Type Argument Default Description useCache boolean &lt;optional&gt; Flag to use proxy cache for responses. Default value will be requested from config.useCache if it is specified. timeout number &lt;optional&gt; Proxy timeout to break connection. Default value will be requested from config.timeout.proxy. port number &lt;optional&gt; Proxy port. Default value will be requested from config.proxyPort. check boolean &lt;optional&gt; true Flag to check that proxy is launched. Source: steps/proxy.js, line 107 Throws: If global proxy is not launched. Type AssertionError &lt;async&gt; startProxy( [opts]) Step to start proxy. This: Steps Parameters: Name Type Argument Description opts object &lt;optional&gt; Step to start proxy. Properties Name Type Argument Default Description appUrl string &lt;optional&gt; Web application url which will be proxied. Default value will be requested from config.appUrl if it is specified. useCache boolean &lt;optional&gt; Flag to use proxy cache for responses. Default value will be requested from config.useCache if it is specified. timeout number &lt;optional&gt; Proxy timeout to break connection. Default value will be requested from config.timeout.proxy. port number &lt;optional&gt; Proxy port. Default value will be requested from config.proxyPort. check boolean &lt;optional&gt; true Flag to check that proxy is launched. Source: steps/proxy.js, line 40 Throws: If proxy is not launched. Type AssertionError Returns: Proxy url to web application. Type string &lt;async&gt; stopGlobalProxy( [opts]) Step to stop global proxy. This: Steps Parameters: Name Type Argument Description opts object &lt;optional&gt; Step options. Properties Name Type Argument Default Description check boolean &lt;optional&gt; true Flag to check that global proxy is stopped. Source: steps/proxy.js, line 143 Throws: If global proxy is still running. Type AssertionError &lt;async&gt; stopProxy( [opts]) Step to stop proxy. This: Steps Parameters: Name Type Argument Description opts object &lt;optional&gt; Step options. Properties Name Type Argument Default Description check boolean &lt;optional&gt; true Flag to check that proxy is stopped. Source: steps/proxy.js, line 76 Throws: If proxy is still running. Type AssertionError unlimitProxySpeed( [opts]) Step to unlimit proxy speed. This: Steps Parameters: Name Type Argument Description opts object &lt;optional&gt; Step options. Properties Name Type Argument Default Description check boolean &lt;optional&gt; true Flag to check that proxy speed is unlimited. Source: steps/proxy.js, line 204 Throws: If proxy speed is still limited. Type AssertionError unmeasureResponses( [opts]) Step to stop responses measurement. This: Steps Parameters: Name Type Argument Description opts object &lt;optional&gt; Step options. Properties Name Type Argument Default Description check boolean &lt;optional&gt; true Flag to check that responses measurement is stopped. Source: steps/proxy.js, line 312 Throws: If responses measurement is still running. Type AssertionError × Search results Close "},"module-lib_steps_video.html":{"id":"module-lib_steps_video.html","title":"Mixin: module:lib/steps/video","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Mixin: module:lib/steps/video module:lib/steps/video Steps to manage video recording. Source: steps/video.js, line 17 Methods &lt;async&gt; startVideo( [opts]) Step to start video recording. This: Steps Parameters: Name Type Argument Description opts object &lt;optional&gt; Step options. Properties Name Type Argument Default Description name string &lt;optional&gt; File name. Extension .mpg will be added automatically. By default name will be generated with uuid algorithm. check boolean &lt;optional&gt; true Flag to check that video recording is launched. Source: steps/video.js, line 33 Throws: If video recording isn't launched. Type AssertionError &lt;async&gt; stopVideo( [opts]) Step to stop video recording. This: Steps Parameters: Name Type Argument Description opts object &lt;optional&gt; step options Properties Name Type Argument Default Description check boolean &lt;optional&gt; true Flag to check that video recording is stopped. Source: steps/video.js, line 72 Throws: if video recording isn't stoped Type Error × Search results Close "},"module-lib_steps_web.html":{"id":"module-lib_steps_web.html","title":"Mixin: module:lib/steps/web","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Mixin: module:lib/steps/web module:lib/steps/web Steps to manage web application. Source: steps/web.js, line 17 Methods &lt;async&gt; closeBrowser( [opts]) Step to close browser. This: Steps Parameters: Name Type Argument Description opts object &lt;optional&gt; Step options. Properties Name Type Argument Default Description check boolean &lt;optional&gt; true Flag to check step result or no. Source: steps/web.js, line 111 Throws: if browser isn't closed Type Error &lt;async&gt; installSeleniumDrivers() Step to install selenium drivers. This: Steps Source: steps/web.js, line 26 &lt;async&gt; launchBrowser( [opts]) Step to launch browser. This: Steps Parameters: Name Type Argument Description opts object &lt;optional&gt; Step options. Properties Name Type Argument Default Description check boolean &lt;optional&gt; true Flag to check step result or no. Source: steps/web.js, line 82 Throws: if browser isn't launched Type Error &lt;async&gt; openPage(pageUrl) Step to open page in browser. This: Steps Parameters: Name Type Description pageUrl string | object URL or page. Source: steps/web.js, line 149 &lt;async&gt; restartBrowser( [opts]) Step to restart browser. This: Steps Parameters: Name Type Argument Description opts object &lt;optional&gt; step options Properties Name Type Argument Default Description check boolean &lt;optional&gt; true flag to check step result or no Source: steps/web.js, line 135 &lt;async&gt; startSeleniumServer() Step to start selenium server. This: Steps Source: steps/web.js, line 49 stopSeleniumServer() Step to stop selenium server. This: Steps Source: steps/web.js, line 68 × Search results Close "},"module-lib_steps_xvfb.html":{"id":"module-lib_steps_xvfb.html","title":"Mixin: module:lib/steps/xvfb","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Mixin: module:lib/steps/xvfb module:lib/steps/xvfb Steps to manage virtual display. Source: steps/xvfb.js, line 14 Methods startXvfb( [opts]) Step to start virtual display. This: Steps Parameters: Name Type Argument Description opts object &lt;optional&gt; Step options. Properties Name Type Argument Default Description width number &lt;optional&gt; 1280 Virtual display width. height number &lt;optional&gt; 720 Virtual display height. depth number &lt;optional&gt; 24 Virtual display color depth. timeout number &lt;optional&gt; 1000 Time to wait for virtual display will be started, ms. Source: steps/xvfb.js, line 28 stopXvfb() Step to stop virtual display. This: Steps Source: steps/xvfb.js, line 47 × Search results Close "},"module-lib_testing.html":{"id":"module-lib_testing.html","title":"Module: lib/testing","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Module: lib/testing Contains classes and functions to save executed tests data. Source: testing.js, line 2 Classes TestCase × Search results Close "},"module-lib_testing-TestCase.html":{"id":"module-lib_testing-TestCase.html","title":"Class: TestCase","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Class: TestCase lib/testing~ TestCase new TestCase(name) Test case data structure. Contains full information and history about test case. Parameters: Name Type Description name string Test case name. Source: testing.js, line 17 Methods addError(err) Adds error to test case. Parameters: Name Type Description err Error Error. Source: testing.js, line 50 addFailedParams(params) Adds failed params if they don't exist. Parameters: Name Type Description params object Params which test was failed with. Source: testing.js, line 38 addScreenshot(imagePath) Adds screenshot. Parameters: Name Type Description imagePath string Path to saved screenshot. Source: testing.js, line 59 reset() Resets test case info. Source: testing.js, line 26 × Search results Close "},"module-lib_utils.html":{"id":"module-lib_utils.html","title":"Module: lib/utils","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Module: lib/utils Contains GlaceJS utils and helpers. Source: utils.js, line 3 Methods &lt;static&gt; capitalize(string) Capitalizes first letter of string. Doesn&quot;t influence to case of other letters. Parameters: Name Type Description string string string to capitalize Source: utils.js, line 35 Returns: capitalized string Type string &lt;static&gt; defVal(values) Gets default value for variable among passed listed values. Parameters: Name Type Argument Description values * &lt;repeatable&gt; variable values Source: utils.js, line 21 Returns: last specified value or null if last is undefined. Type * &lt;static&gt; mkpath(paths) Composes file path from segments. If folder of file is absent, it will be created. Parameters: Name Type Argument Description paths string &lt;repeatable&gt; A sequence of paths or path segments. Source: utils.js, line 86 Returns: Composed path. Type string &lt;static&gt; sleep(timeout [, blocking]) Makes delay (sleep) during code execution. Parameters: Name Type Argument Default Description timeout number Time to sleep, ms. blocking boolean &lt;optional&gt; false Flag whether sleep should be block code execution. Source: utils.js, line 65 Returns: If sleep isn't blocking. Type Promise &lt;inner&gt; clearEmptyFolders(folder) Clears empty folders recursive. Parameters: Name Type Description folder string path to root folder Source: utils.js, line 44 × Search results Close "},"module-lib_video.html":{"id":"module-lib_video.html","title":"Module: lib/video","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Module: lib/video Classes and functions for video recording. Source: video.js, line 2 Classes VideoRecorder × Search results Close "},"module-lib_video-VideoRecorder.html":{"id":"module-lib_video-VideoRecorder.html","title":"Class: VideoRecorder","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest Class: VideoRecorder lib/video~ VideoRecorder contains methods to record video for tests new VideoRecorder() Creates a new instance of VideoRecorder. Properties: Name Type Argument Default Description isRunning boolean false flag is video recorder running or no filePath string &lt;nullable&gt; null path video file Source: video.js, line 20 Methods configure( [opts]) Configures video recorder. Parameters: Name Type Argument Description opts object &lt;optional&gt; recorder configuration Properties Name Type Argument Default Description fps number &lt;optional&gt; 30 video framerate width number &lt;optional&gt; 1024 video width height number &lt;optional&gt; 768 video height x number &lt;optional&gt; 0 X-offset on display y number &lt;optional&gt; 0 Y-offset on display Source: video.js, line 39 start() Starts video recorder. Source: video.js, line 67 Throws: if video recorder is started already Type Error if video recorder isn't configured yet Type Error stop() Stops video recorder. Source: video.js, line 83 Throws: if video recorder isn't started yet Type Error × Search results Close "},"tutorial-console-args.html":{"id":"tutorial-console-args.html","title":"Tutorial: GlaceJS command line arguments","body":" GlaseJS Namespaces lib/config~config Modules lib/clilib/configlib/errorlib/globalslib/hackinglib/imagelib/indexlib/loggerlib/page/elementlib/page/eventlib/page/indexlib/proxy/baselib/proxy/globalProxylib/proxy/indexlib/proxy/middleware/cachelib/proxy/middleware/indexlib/proxy/middleware/infolib/proxy/middleware/speedlib/proxy/proxylib/reporter/baselib/reporter/indexlib/reporter/stdoutlib/reporter/testraillib/runnerlib/steps/imagelib/steps/indexlib/steps/pagelib/steps/proxylib/steps/videolib/steps/weblib/steps/xvfblib/testinglib/utilslib/video Classes lib/error~ConfigErrorlib/error~GlaceErrorlib/error~StepErrorlib/image~Imagelib/page/element~Controllib/page/event~PointerEventslib/page/index~Pagelib/proxy/base~BaseProxylib/proxy/globalProxy~GlobalProxylib/proxy/proxy~WebProxylib/reporter/base~BaseReporterlib/steps/index~Stepslib/testing~TestCaselib/video~VideoRecorder Tutorials GlaceJS command line arguments Global afterChunkafterSessionbeforeChunkbeforeSessionchunkCONFexpectforEachLanguagescopesessionSStest GlaceJS command line arguments GlaceJS supports follow command line arguments: &lt;path&gt; (optional) - File or folder path, where tests are located. For example, glace myTests.js or glace path/to/tests-folder. In folder it loads files with tests recursively. If file with tests is not specified directly, it loads files with prefix test and extension .js only. If argument is not specified, it looks inside folder tests in current work directory. --web (optional) - Activates steps for web testing in browser via selenium. If option is specified, selenium server and browser will launched automatically on session begin and will be stopped at session end. --install-drivers (optional) - Installs selenium webdrivers on session start. --platform (optional) - Platfrom type. Supported values are pc, android, ios. Default value is pc. For example, --platform android. --browser (optional) - Browser name. Default value is specific for platform: chrome for pc, chrome for android, safari for ios. For example, --browser firefox. --selenium-addr (optional) - Selenium or appium network address. For example, --selenium-addr 192.168.0.9:4004. If it is not specified, local selenium server with default options will be started. --device (optional) - Mobile device name. For example, --device &quot;My iPhone&quot; or --device Our_Android. Look for actual value for mobile device in its settings. --os-version (optional) - Mobile OS version. For example, --os-version 9.0.3 or --os-version 5.0.5. --udid (optional) - Mobile device UDID. --ios-engine (optional) - iOS driver engine name. Default value is XCUITest. --retry &lt;times&gt; (optional) - Number of times to retry a failed test case. --stdout-log (optional) - Print log to console stdout. × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
